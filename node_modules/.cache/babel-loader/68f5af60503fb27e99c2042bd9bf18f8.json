{"ast":null,"code":"import _mergeJSXProps from 'babel-helper-vue-jsx-merge-props';\nimport _extends from 'babel-runtime/helpers/extends';\nimport shallowEqual from 'shallowequal';\nimport omit from 'omit.js';\nimport { getOptionProps, getListeners } from '../props-util';\nimport PropTypes from '../vue-types';\nimport proxyComponent from '../proxyComponent';\n\nfunction getDisplayName(WrappedComponent) {\n  return WrappedComponent.name || 'Component';\n}\n\nvar defaultMapStateToProps = function defaultMapStateToProps() {\n  return {};\n};\n\nexport default function connect(mapStateToProps) {\n  var shouldSubscribe = !!mapStateToProps;\n  var finalMapStateToProps = mapStateToProps || defaultMapStateToProps;\n  return function wrapWithConnect(WrappedComponent) {\n    var tempProps = omit(WrappedComponent.props || {}, ['store']);\n    var props = {\n      __propsSymbol__: PropTypes.any\n    };\n    Object.keys(tempProps).forEach(function (k) {\n      props[k] = _extends({}, tempProps[k], {\n        required: false\n      });\n    });\n    var Connect = {\n      name: 'Connect_' + getDisplayName(WrappedComponent),\n      props: props,\n      inject: {\n        storeContext: {\n          'default': function _default() {\n            return {};\n          }\n        }\n      },\n      data: function data() {\n        this.store = this.storeContext.store;\n        this.preProps = omit(getOptionProps(this), ['__propsSymbol__']);\n        return {\n          subscribed: finalMapStateToProps(this.store.getState(), this.$props)\n        };\n      },\n      watch: {\n        __propsSymbol__: function __propsSymbol__() {\n          if (mapStateToProps && mapStateToProps.length === 2) {\n            this.subscribed = finalMapStateToProps(this.store.getState(), this.$props);\n          }\n        }\n      },\n      mounted: function mounted() {\n        this.trySubscribe();\n      },\n      beforeDestroy: function beforeDestroy() {\n        this.tryUnsubscribe();\n      },\n      methods: {\n        handleChange: function handleChange() {\n          if (!this.unsubscribe) {\n            return;\n          }\n\n          var props = omit(getOptionProps(this), ['__propsSymbol__']);\n          var nextSubscribed = finalMapStateToProps(this.store.getState(), props);\n\n          if (!shallowEqual(this.preProps, props) || !shallowEqual(this.subscribed, nextSubscribed)) {\n            this.subscribed = nextSubscribed;\n          }\n        },\n        trySubscribe: function trySubscribe() {\n          if (shouldSubscribe) {\n            this.unsubscribe = this.store.subscribe(this.handleChange);\n            this.handleChange();\n          }\n        },\n        tryUnsubscribe: function tryUnsubscribe() {\n          if (this.unsubscribe) {\n            this.unsubscribe();\n            this.unsubscribe = null;\n          }\n        },\n        getWrappedInstance: function getWrappedInstance() {\n          return this.$refs.wrappedInstance;\n        }\n      },\n      render: function render() {\n        var h = arguments[0];\n        var _$slots = this.$slots,\n            $slots = _$slots === undefined ? {} : _$slots,\n            $scopedSlots = this.$scopedSlots,\n            subscribed = this.subscribed,\n            store = this.store;\n        var props = getOptionProps(this);\n        this.preProps = _extends({}, omit(props, ['__propsSymbol__']));\n        var wrapProps = {\n          props: _extends({}, props, subscribed, {\n            store: store\n          }),\n          on: getListeners(this),\n          scopedSlots: $scopedSlots\n        };\n        return h(WrappedComponent, _mergeJSXProps([wrapProps, {\n          ref: 'wrappedInstance'\n        }]), [Object.keys($slots).map(function (name) {\n          return h('template', {\n            slot: name\n          }, [$slots[name]]);\n        })]);\n      }\n    };\n    return proxyComponent(Connect);\n  };\n}","map":{"version":3,"names":["_mergeJSXProps","_extends","shallowEqual","omit","getOptionProps","getListeners","PropTypes","proxyComponent","getDisplayName","WrappedComponent","name","defaultMapStateToProps","connect","mapStateToProps","shouldSubscribe","finalMapStateToProps","wrapWithConnect","tempProps","props","__propsSymbol__","any","Object","keys","forEach","k","required","Connect","inject","storeContext","_default","data","store","preProps","subscribed","getState","$props","watch","length","mounted","trySubscribe","beforeDestroy","tryUnsubscribe","methods","handleChange","unsubscribe","nextSubscribed","subscribe","getWrappedInstance","$refs","wrappedInstance","render","h","arguments","_$slots","$slots","undefined","$scopedSlots","wrapProps","on","scopedSlots","ref","map","slot"],"sources":["D:/Desktop/大三上/实训/项目2.0/xbr/xbr/前端/node_modules/ant-design-vue/es/_util/store/connect.js"],"sourcesContent":["import _mergeJSXProps from 'babel-helper-vue-jsx-merge-props';\r\nimport _extends from 'babel-runtime/helpers/extends';\r\nimport shallowEqual from 'shallowequal';\r\nimport omit from 'omit.js';\r\nimport { getOptionProps, getListeners } from '../props-util';\r\nimport PropTypes from '../vue-types';\r\nimport proxyComponent from '../proxyComponent';\r\n\r\nfunction getDisplayName(WrappedComponent) {\r\n  return WrappedComponent.name || 'Component';\r\n}\r\n\r\nvar defaultMapStateToProps = function defaultMapStateToProps() {\r\n  return {};\r\n};\r\nexport default function connect(mapStateToProps) {\r\n  var shouldSubscribe = !!mapStateToProps;\r\n  var finalMapStateToProps = mapStateToProps || defaultMapStateToProps;\r\n  return function wrapWithConnect(WrappedComponent) {\r\n    var tempProps = omit(WrappedComponent.props || {}, ['store']);\r\n    var props = {\r\n      __propsSymbol__: PropTypes.any\r\n    };\r\n    Object.keys(tempProps).forEach(function (k) {\r\n      props[k] = _extends({}, tempProps[k], { required: false });\r\n    });\r\n    var Connect = {\r\n      name: 'Connect_' + getDisplayName(WrappedComponent),\r\n      props: props,\r\n      inject: {\r\n        storeContext: { 'default': function _default() {\r\n            return {};\r\n          } }\r\n      },\r\n      data: function data() {\r\n        this.store = this.storeContext.store;\r\n        this.preProps = omit(getOptionProps(this), ['__propsSymbol__']);\r\n        return {\r\n          subscribed: finalMapStateToProps(this.store.getState(), this.$props)\r\n        };\r\n      },\r\n\r\n      watch: {\r\n        __propsSymbol__: function __propsSymbol__() {\r\n          if (mapStateToProps && mapStateToProps.length === 2) {\r\n            this.subscribed = finalMapStateToProps(this.store.getState(), this.$props);\r\n          }\r\n        }\r\n      },\r\n      mounted: function mounted() {\r\n        this.trySubscribe();\r\n      },\r\n      beforeDestroy: function beforeDestroy() {\r\n        this.tryUnsubscribe();\r\n      },\r\n\r\n      methods: {\r\n        handleChange: function handleChange() {\r\n          if (!this.unsubscribe) {\r\n            return;\r\n          }\r\n          var props = omit(getOptionProps(this), ['__propsSymbol__']);\r\n          var nextSubscribed = finalMapStateToProps(this.store.getState(), props);\r\n          if (!shallowEqual(this.preProps, props) || !shallowEqual(this.subscribed, nextSubscribed)) {\r\n            this.subscribed = nextSubscribed;\r\n          }\r\n        },\r\n        trySubscribe: function trySubscribe() {\r\n          if (shouldSubscribe) {\r\n            this.unsubscribe = this.store.subscribe(this.handleChange);\r\n            this.handleChange();\r\n          }\r\n        },\r\n        tryUnsubscribe: function tryUnsubscribe() {\r\n          if (this.unsubscribe) {\r\n            this.unsubscribe();\r\n            this.unsubscribe = null;\r\n          }\r\n        },\r\n        getWrappedInstance: function getWrappedInstance() {\r\n          return this.$refs.wrappedInstance;\r\n        }\r\n      },\r\n      render: function render() {\r\n        var h = arguments[0];\r\n        var _$slots = this.$slots,\r\n            $slots = _$slots === undefined ? {} : _$slots,\r\n            $scopedSlots = this.$scopedSlots,\r\n            subscribed = this.subscribed,\r\n            store = this.store;\r\n\r\n        var props = getOptionProps(this);\r\n        this.preProps = _extends({}, omit(props, ['__propsSymbol__']));\r\n        var wrapProps = {\r\n          props: _extends({}, props, subscribed, {\r\n            store: store\r\n          }),\r\n          on: getListeners(this),\r\n          scopedSlots: $scopedSlots\r\n        };\r\n        return h(\r\n          WrappedComponent,\r\n          _mergeJSXProps([wrapProps, { ref: 'wrappedInstance' }]),\r\n          [Object.keys($slots).map(function (name) {\r\n            return h(\r\n              'template',\r\n              { slot: name },\r\n              [$slots[name]]\r\n            );\r\n          })]\r\n        );\r\n      }\r\n    };\r\n    return proxyComponent(Connect);\r\n  };\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}