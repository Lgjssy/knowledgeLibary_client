{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nlet id = 1000;\nimport axios from 'axios';\nexport default {\n  methods: {\n    FindAllPlan() {\n      let data3 = {\n        Test_Plan_Name: this.input_search\n      };\n      let url1 = 'http://localhost:8081/findTPNumByName';\n      let n = 0;\n      axios.post(url1, data3).then(res => {\n        //alert(res.data);\n        n = res.data;\n      });\n      let url2 = 'http://localhost:8081/findTPByName';\n      axios.post(url2, data3).then(res => {\n        this.PlanData = [];\n\n        while (n - 1 >= 0) {\n          // alert(res.data[0]);\n          this.PlanData.push({\n            Test_Plan_Id: res.data[n - 1][0],\n            Test_Plan_Name: res.data[n - 1][1],\n            Owning_module: res.data[n - 1][8],\n            Human_resource_allocation: res.data[n - 1][2],\n            Start_Date: res.data[n - 1][4],\n            End_Date: res.data[n - 1][5],\n            State: res.data[n - 1][6],\n            Priority: res.data[n - 1][7],\n            Description: res.data[n - 1][10],\n            Test_risk: res.data[n - 1][9]\n          });\n          n = n - 1;\n        }\n      });\n    },\n\n    submitPlanButton() {\n      this.titleType = \"提交\";\n      this.idEditable = false;\n      this.submitPlanDialogVisible = true;\n    },\n\n    situationButton() {\n      this.titleType = \"修改\";\n      this.idEditable = true;\n      this.situationDialogVisible = true;\n    },\n\n    //行按钮-概况\n    situation(row, column) {\n      //word_basicInformation_situationDialog[0][label]\n      situationDialogVisible = true;\n    },\n\n    //对话框：概况——底部按钮\n    Acivate() {},\n\n    Save() {},\n\n    Start() {},\n\n    jumpToUseCase() {\n      this.$router.push('/Plan/select');\n    },\n\n    updateInput(e) {\n      this.$forceUpdate();\n    },\n\n    //提交测试计划\n    submitTest() {},\n\n    //链接测试计划与用例\n    associate() {},\n\n    onSubmit() {\n      let PlanData = {\n        Test_risk: this.submitPlanForm.risk,\n        Test_Plan_Name: this.submitPlanForm.name,\n        Owning_module: this.submitPlanForm.project,\n        principal: this.submitPlanForm.people,\n        Human_resource_allocation: this.submitPlanForm.Human_resource_allocation,\n        Start_Date: this.submitPlanForm.StartDate,\n        End_Date: this.submitPlanForm.EndDate,\n        State: this.submitPlanForm.status,\n        Priority: this.submitPlanForm.Priority,\n        Description: this.submitPlanForm.description\n      };\n      let url1 = 'http://localhost:8081/insertTP';\n      axios.post(url1, PlanData).then(res => {\n        if (res.data == 0) alert(\"插入成功！\");else alert(\"模块名已经存在！\");\n      });\n      this.submitPlanDialogVisible = false;\n    }\n\n  },\n\n  data() {\n    return {\n      //“提交计划”弹窗标题\n      idEditable: false,\n      titleType: '卡其脱离太',\n      //主表格初值\n      form: {\n        Test_Plan_Id: \"1\",\n        Test_Plan_Name: \"1\",\n        Owning_module: \"1\",\n        Human_resource_allocation: \"1\",\n        Start_Date: \"1\",\n        End_Date: \"1\",\n        State: \"1\",\n        Priority: \"1\",\n        Description: \"1\",\n        Test_risk: \"1\"\n      },\n      //主表格数据\n      PlanData: [],\n      input_search: '',\n      //对话框：概况\n      word_description_situationDialog: \"你是一个一个一个一个测试计划啊啊啊\",\n      //描述\n      word_basicInformation_situationDialog: [//基本信息\n      {\n        label: '所属模块',\n        value: '下北泽'\n      }, {\n        label: '负责人',\n        value: '李田所'\n      }, {\n        label: '开始日期',\n        value: '1145 1 4'\n      }, {\n        label: '结束日期',\n        value: '1919 8 10'\n      }, {\n        label: '人力资源分配',\n        value: '2'\n      }, {\n        label: '状态',\n        value: '未完成'\n      }, {\n        label: '优先级',\n        value: '2'\n      }, {\n        label: '抄送给',\n        value: '赵拓也'\n      }],\n      word_historyRecord_situationDialog: [{//历史记录\n      }],\n      situationDialogVisible: false,\n      //\n      //表单：增加计划\n      titleType: '',\n      projects: [//所属模块\n      {\n        value: '系统模块',\n        label: '系统模块'\n      }, {\n        value: '页面模块',\n        label: '页面模块'\n      }],\n      risks: [//严重程度 \n      {\n        label: '最高严重程度',\n        value: '1'\n      }, {\n        label: '严重程度二',\n        value: '2'\n      }, {\n        label: '严重程度三',\n        value: '3'\n      }, {\n        label: '最低严重程度',\n        value: '4'\n      }],\n      Priority: [//优先级 \n      {\n        label: '最高优先级',\n        value: '1'\n      }, {\n        label: '优先级二',\n        value: '2'\n      }, {\n        label: '优先级三',\n        value: '3'\n      }, {\n        label: '最低优先级',\n        value: '4'\n      }],\n      status: [//状态\n      {\n        value: '未开始',\n        label: '未开始'\n      }, {\n        value: '已开始',\n        label: '已开始'\n      }],\n      Human_resource_allocation: [//人力资源分配\n      {\n        value: '1到2人',\n        label: '1到2人'\n      }, {\n        value: '2到3人',\n        label: '2到3人'\n      }, {\n        value: '3到4人',\n        label: '3到4人'\n      }],\n      handler: [//项目负责人\n      {\n        value: 'han1',\n        label: '小李'\n      }, {\n        value: 'han2',\n        label: '小王'\n      }, {\n        value: 'han3',\n        label: '小闫'\n      }],\n      submitPlanDialogVisible: false,\n      submitPlanForm: {\n        id: '',\n        risk: '',\n        project: '',\n        Priority: '',\n        StartDate: '',\n        EndDate: '',\n        status: '',\n        Human_resource_allocation: '',\n        name: '',\n        handler: '',\n        description: ''\n      }\n    };\n  }\n\n};","map":{"version":3,"mappings":"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","names":["methods","FindAllPlan","Test_Plan_Name","axios","n","Test_Plan_Id","Owning_module","Human_resource_allocation","Start_Date","End_Date","State","Priority","Description","Test_risk","submitPlanButton","situationButton","situation","situationDialogVisible","Acivate","Save","Start","jumpToUseCase","updateInput","submitTest","associate","onSubmit","principal","alert","data","idEditable","titleType","form","PlanData","input_search","word_description_situationDialog","word_basicInformation_situationDialog","label","value","word_historyRecord_situationDialog","projects","risks","status","handler","submitPlanDialogVisible","submitPlanForm","id","risk","project","StartDate","EndDate","name","description"],"sourceRoot":"src/components","sources":["Plan.vue"],"sourcesContent":["<template>\r\n\r\n    <el-container style=\"background-color: #e5f2ff;height: 100%;margin: 0px;\">\r\n      <el-main style=\"padding: 10px; margin: 10px; height: 100%\">\r\n        <div style=\"display: flex\">\r\n          <h3 style=\"margin-left: 10px; margin-top: 10px; color: black\">\r\n            测试计划\r\n          </h3>\r\n          <el-button\r\n            type=\"primary\"\r\n            style=\"margin-left: 70%; margin-top: 10px\"\r\n            @click=\"submitPlanButton(); \"\r\n            >+提交测试</el-button\r\n          >\r\n        </div>\r\n<!--提交测试弹框---------------------------------------------------------------------------------------------------------->\r\n        <el-dialog :title=\"titleType + '计划'\" :visible.sync=\"submitPlanDialogVisible\" width=\"80%\">\r\n          <el-form   v-model=\"submitPlanForm\" label-width=\"100px\">\r\n              <el-form-item label=\"id\">\r\n                <el-row :gutter=\"20\">\r\n                  <el-col :span=\"6\">\r\n                    <el-input  v-model=\"submitPlanForm.id\" :disabled=\"idEditable\"></el-input>\r\n                  </el-col>\r\n                  <el-col class=\"line\" :span=\"4\">-</el-col> \r\n                  <el-col class=\"line\" :span=\"2\"><label>风险程度</label></el-col>\r\n                  <el-col :span=\"8\"> \r\n                    <el-select v-model=\"submitPlanForm.risk\" placeholder=\"请选择风险程度\">\r\n                      <el-option \r\n                        v-for=\"risk in risks\"\r\n                        :key=\"risk.value\"\r\n                        :value=\"risk.value\"\r\n                        :label=\"risk.label\"\r\n                      ></el-option>\r\n                    </el-select>                 \r\n                  </el-col>\r\n                </el-row>\r\n              </el-form-item> \r\n              <el-form-item label=\"名称\">\r\n                <el-row :gutter=\"20\">\r\n                  <el-col :span=\"6\">\r\n                    <el-input  v-model=\"submitPlanForm.name\"></el-input>\r\n                  </el-col>\r\n                  <el-col class=\"line\" :span=\"4\">-</el-col> \r\n                  <el-col class=\"line\" :span=\"2\"><label>所属模块</label></el-col>\r\n                  <el-col :span=\"8\"> \r\n                    <el-select v-model=\"submitPlanForm.project\" placeholder=\"请选择\">\r\n                      <el-option \r\n                        v-for=\"project in projects\"\r\n                        :key=\"project.value\"\r\n                        :value=\"project.value\"\r\n                        :label=\"project.label\"\r\n                      ></el-option>\r\n                    </el-select>                 \r\n                  </el-col>\r\n                </el-row>\r\n              </el-form-item> \r\n              <!-- <el-form-item label=\"所属项目\">\r\n                  <el-select v-model=\"submitPlanForm.project\" placeholder=\"请选择\">\r\n                  <el-option \r\n                    v-for=\"project in projects\"\r\n                    :key=\"project.value\"\r\n                    :value=\"project.value\"\r\n                    :label=\"project.label\"\r\n                  ></el-option>\r\n                  </el-select>\r\n              </el-form-item> -->\r\n              <el-form-item label=\"项目负责人\"> \r\n                <el-row :gutter=\"20\">\r\n                  <el-col :span=\"6\">\r\n                    <el-input  v-model=\"submitPlanForm.people\"></el-input>\r\n                  </el-col>\r\n                  <el-col class=\"line\" :span=\"4\">-</el-col>\r\n                  <el-col :span=\"2\">\r\n                    <label>优先级</label>\r\n                  </el-col>\r\n                  <el-col :span=\"8\">                   \r\n                    <el-select label=\"优先级\" v-model=\"submitPlanForm.Priority\" placeholder=\"请选择\">\r\n                      <el-option \r\n                        v-for=\"Pri in Priority\"\r\n                        :key=\"Pri.value\"\r\n                        :value=\"Pri.value\"\r\n                        :label=\"Pri.label\"\r\n                      ></el-option>\r\n                    </el-select>  \r\n                  </el-col>\r\n                </el-row>\r\n              </el-form-item> \r\n              <el-form-item label=\"开始日期\">\r\n                <el-row :gutter=\"20\">\r\n                  <el-col :span=\"6\">\r\n                  <el-date-picker type=\"date\" placeholder=\"选择开始日期\" v-model=\"submitPlanForm.StartDate\" width=\"60%\"></el-date-picker>\r\n                    </el-col>\r\n                  <el-col class=\"line\" :span=\"4\">-</el-col>\r\n                  <el-col :span=\"2\">\r\n                    <label>结束日期</label>\r\n                  </el-col >\r\n                  <el-col :span=\"8\">\r\n                    <el-date-picker type=\"date\" placeholder=\"选择结束日期\" v-model=\"submitPlanForm.EndDate\" width=\"60%\"></el-date-picker>\r\n                  </el-col>\r\n                </el-row>\r\n              </el-form-item>\r\n              <el-form-item :gutter=\"20\" label=\"状态\">\r\n                <el-row :gutter=\"20\">\r\n\r\n                  <el-col :span=\"6\">\r\n                    \r\n                    <el-select  v-model=\"submitPlanForm.status\" placeholder=\"请选择\">\r\n                      <el-option \r\n                        v-for=\"sta in status\"\r\n                        :key=\"sta.value\"\r\n                        :value=\"sta.value\"\r\n                        :label=\"sta.label\"\r\n                      ></el-option>\r\n                    </el-select>  \r\n                  </el-col>\r\n                   <el-col class=\"line\" :span=\"3\">-</el-col>\r\n                  <el-col :span=\"3\">\r\n                    <label>人力资源分配</label>\r\n                  </el-col >\r\n                  <el-col :span=\"8\">\r\n                    <el-select  v-model=\"submitPlanForm.Human_resource_allocation\" placeholder=\"请选择\">\r\n                      <el-option \r\n                        v-for=\"hra in Human_resource_allocation\"\r\n                        :key=\"hra.value\"\r\n                        :value=\"hra.value\"\r\n                        :label=\"hra.label\"\r\n                      ></el-option>\r\n                    </el-select> \r\n                  </el-col>\r\n                </el-row>          \r\n              </el-form-item>\r\n              <!-- <el-form-item label=\"名称\">\r\n                <el-input  v-model=\"submitPlanForm.name\"></el-input>\r\n              </el-form-item> -->\r\n              <el-form-item label=\"描述\">\r\n                <el-input\r\n                  :rows=\"9\"\r\n                  type=\"textarea\"\r\n                  placeholder=\"请输入内容\"\r\n                  v-model=\"submitPlanForm.description\"\r\n                  maxlength=\"100\"\r\n                  show-word-limit\r\n                >\r\n                </el-input>\r\n              </el-form-item>\r\n              <el-form-item label=\"抄送给\">\r\n                  <el-select v-model=\"submitPlanForm.handler\" placeholder=\"请选择\">\r\n                  <el-option \r\n                    v-for=\"han in handler\"\r\n                    :key=\"han.value\"\r\n                    :value=\"han.value\"\r\n                    :label=\"han.label\"\r\n                  ></el-option>\r\n                  </el-select>\r\n              </el-form-item>\r\n              <el-form-item>\r\n                <el-row :gutter=\"20\">\r\n                  <el-col :span=\"3\">\r\n                    <el-button type=\"primary\" @click=\"onSubmit\" size=\"large\">保存</el-button>\r\n                  </el-col>\r\n                  <el-col :span=\"10\">\r\n                    <el-button @click=\"submitPlanDialogVisible = false\"  size=\"large\">取消</el-button>\r\n                  </el-col>\r\n                </el-row>\r\n              </el-form-item> \r\n          </el-form> \r\n        </el-dialog>\r\n<!---------------------------------------------------------------------------------------------------------->\r\n\r\n        <div style=\"display: flex\">\r\n          <div style=\"margin-left: 20px; margin-bottom: 10px;display:flex;\">\r\n            <el-input\r\n              placeholder=\"请输入内容\"\r\n              maxlength=\"10\"\r\n              size=\"small\"\r\n              v-model=\"input_search\"\r\n              clearable\r\n            >\r\n            </el-input><el-button type=\"primary\" style=\"margin: 0 10px;height: 32px;width: 70px;\" @click=\"FindAllPlan()\">搜索</el-button>\r\n          </div>\r\n        </div>\r\n        <el-table\r\n          :data=\"PlanData\"\r\n          style=\"width: 100%; text-align: center\"\r\n          :default-sort=\"{ prop: 'Test_Plan_Id', order: 'descending' }\"\r\n        >\r\n          <el-table-column prop=\"Test_Plan_Id\" label=\"ID\" sortable width=\"100\">\r\n          </el-table-column>\r\n          <el-table-column prop=\"Test_Plan_Name\" label=\"名称\" sortablewidth=\"100\">\r\n          </el-table-column>\r\n          <el-table-column prop=\"Owning_module\" label=\"所属模块\" sortable width=\"100\">\r\n          </el-table-column>\r\n          <el-table-column prop=\"Human_resource_allocation\" label=\"人力资源分配\" sortable width=\"180\">\r\n          </el-table-column>\r\n          <el-table-column prop=\"Start_Date\" label=\"开始日期\" sortable width=\"180\" >\r\n          </el-table-column>\r\n          <el-table-column prop=\"End_Date\"  label=\"结束日期\" sortable width=\"180\" >\r\n          </el-table-column>\r\n          <el-table-column prop=\"State\" label=\"状态\" width=\"100\" sortable>\r\n          </el-table-column>\r\n          <el-table-column prop=\"Priority\" label=\"优先级\" width=\"100\" sortable>\r\n          </el-table-column>\r\n          <el-table-column prop=\"Description\" label=\"描述\" width=\"100\" sortable>\r\n          </el-table-column>\r\n          <el-table-column prop=\"Test_risk\" label=\"测试风险\" width=\"100\">\r\n          </el-table-column>\r\n          <el-table-column prop=\"Operation\" label=\"操作\" fixed=\"right\" width=\"240\">\r\n<!---------------------------------------------------------------------------------------------------------->\r\n            <router-link to=\"/Plan/select\"><!-- 查看包含的用例 -->\r\n              <el-button\r\n                icon=\"el-icon-folder-opened\"\r\n                type=\"text\"\r\n                style=\"font-size:21px\"\r\n                @click=\"jumpToUseCase\"\r\n              ></el-button>\r\n            </router-link>\r\n<!----------- ----------------------------------------------------------------------------------------------->\r\n            <template><el-button  \r\n              icon=\"el-icon-notebook-2\"\r\n              style=\"font-size: 20px\"\r\n              type=\"text\"\r\n              @click=\"situationButton()\"\r\n            ></el-button></template> <!--查看概况-->\r\n\r\n            <el-button\r\n              icon=\"el-icon-edit-outline\"\r\n              style=\"font-size: 20px\"\r\n              type=\"text\"\r\n              @click=\"idEditable = false;submitPlanDialogVisible = true\"\r\n            ></el-button><!--修改计划-->\r\n            <router-link to=\"/Plan/select\"><!--关联计划-->\r\n              <el-button\r\n                icon=\"el-icon-link\"\r\n                style=\"font-size: 22px\"\r\n                type=\"text\"\r\n                 @click=\"associate\"\r\n              ></el-button>\r\n            </router-link>\r\n<!---------------------------------------------------------------------------------------------------------->            \r\n          </el-table-column>\r\n        </el-table>\r\n        <!-----------------弹窗-概况-------------------------->\r\n        <el-dialog title=\"概况\" :visible.sync=\"situationDialogVisible\" width=\"80%\">\r\n          <el-container height=\"800px\" >\r\n            <el-container> \r\n            <el-header height=\"200px\" style=\"margin:5px;box-shadow: 0 2px 4px rgba(0, 0, 0, .12), 0 0 6px rgba(0, 0, 0, .04)\">\r\n              <label style=\"margin-top:4px;color:black;font-size:18px\">描述</label>\r\n              <div>{{word_description_situationDialog}}</div>\r\n            </el-header>\r\n                  \r\n            <el-main height=\"200px\" style=\"margin:5px;box-shadow: 0 2px 4px rgba(0, 0, 0, .12), 0 0 6px rgba(0, 0, 0, .04)\">\r\n              <label style=\"color:black;font-size:18px\">历史记录</label>\r\n              <div>{{word_historyRecord_situationDialog}}</div>\r\n            </el-main>\r\n            </el-container> \r\n            <el-aside height=\"600px\" style=\"margin:5px;box-shadow: 0 2px 4px rgba(0, 0, 0, .12), 0 0 6px rgba(0, 0, 0, .04)\" width=\"200px\">\r\n              <label style=\"margin-top:4px;color:black;font-size:18px\">基本信息</label>\r\n              <div v-for=\"basicInformation in word_basicInformation_situationDialog\" :key=\"basicInformation.label\">{{basicInformation.label}}:{{basicInformation.value}}</div>\r\n            </el-aside>\r\n            \r\n          </el-container>\r\n          <el-button type=\"info\" @click=\"Start\">开始</el-button>\r\n          <el-button type=\"info\" @click=\"Save\">保存</el-button>\r\n          <el-button type=\"info\" @click=\"situationDialogVisible = false\">关闭</el-button>\r\n          <el-button type=\"info\" @click=\"Acivate\">激活</el-button>\r\n        </el-dialog>\r\n<!---------------------------------------------------------------------------------------------------------->\r\n\r\n      </el-main>\r\n    </el-container>\r\n\r\n</template>\r\n\r\n<style>\r\n.test {\r\n  border: 1px solid #eaff00;\r\n}\r\n\r\n.el-main {\r\n  background-color: white;\r\n  color: #d3dce6;\r\n}\r\n\r\nbody > .el-container {\r\n  margin-bottom: 40px;\r\n}\r\n\r\n.el-container:nth-child(5) .el-aside,\r\n.el-container:nth-child(6) .el-aside {\r\n  line-height: 260px;\r\n}\r\n\r\n.el-container:nth-child(7) .el-aside {\r\n  line-height: 320px;\r\n}\r\n</style>\r\n<script>\r\nlet id = 1000;\r\nimport axios from 'axios'\r\nexport default {\r\n  methods: {\r\n     FindAllPlan(){\r\n       let data3={\r\n        Test_Plan_Name:this.input_search\r\n       }\r\n       let url1='http://localhost:8081/findTPNumByName';\r\n        let n=0;\r\n         axios.post(url1,data3).then(res=>{\r\n         //alert(res.data);\r\n          n=res.data;\r\n         }\r\n         ) \r\n        let url2='http://localhost:8081/findTPByName';\r\n         axios.post(url2,data3).then(res=>{\r\n           this.PlanData=[\r\n         \r\n         ]\r\n           while(n-1>=0){\r\n            // alert(res.data[0]);\r\n             this.PlanData.push(\r\n         { \r\n           Test_Plan_Id:res.data[n-1][0],\r\n           Test_Plan_Name:res.data[n-1][1],\r\n           Owning_module:res.data[n-1][8],\r\n           Human_resource_allocation:res.data[n-1][2],\r\n           Start_Date:res.data[n-1][4],\r\n          End_Date:res.data[n-1][5],\r\n           State:res.data[n-1][6],\r\n           Priority:res.data[n-1][7],\r\n           Description:res.data[n-1][10],\r\n           Test_risk:res.data[n-1][9],\r\n         });\r\n         n=n-1;\r\n          }\r\n            \r\n        \r\n         }\r\n         ) \r\n    },\r\n    submitPlanButton(){\r\n      \r\n      \r\n      this.titleType = \"提交\";\r\n      this.idEditable = false;\r\n      this.submitPlanDialogVisible = true;\r\n    },\r\n    situationButton(){\r\n      this.titleType = \"修改\";\r\n      this.idEditable = true;\r\n      this.situationDialogVisible = true\r\n    },\r\n    //行按钮-概况\r\n    situation(row, column){\r\n      //word_basicInformation_situationDialog[0][label]\r\n      situationDialogVisible = true\r\n    },\r\n    //对话框：概况——底部按钮\r\n    Acivate(){},\r\n    Save(){},\r\n    Start(){},\r\n\r\n    jumpToUseCase(){\r\n      this.$router.push('/Plan/select')\r\n    },\r\n    updateInput(e) {\r\n      this.$forceUpdate();\r\n    },\r\n    //提交测试计划\r\n    submitTest(){},\r\n\r\n    //链接测试计划与用例\r\n    associate(){},\r\n    onSubmit(){\r\n      let PlanData={\r\n          Test_risk:this.submitPlanForm.risk,\r\n          Test_Plan_Name:this.submitPlanForm.name,\r\n          Owning_module:this.submitPlanForm.project,\r\n          principal:this.submitPlanForm.people,\r\n          Human_resource_allocation:this.submitPlanForm.Human_resource_allocation,\r\n          Start_Date:this.submitPlanForm.StartDate,\r\n          End_Date:this.submitPlanForm.EndDate,\r\n          State:this.submitPlanForm.status,\r\n          Priority:this.submitPlanForm.Priority,\r\n          Description:this.submitPlanForm.description,\r\n      }\r\n     let url1='http://localhost:8081/insertTP';\r\n        axios.post(url1,PlanData).then(res=>{\r\n          if(res.data==0)\r\n          alert(\"插入成功！\");\r\n          else\r\n          alert(\"模块名已经存在！\")\r\n        })\r\n      this.submitPlanDialogVisible = false;\r\n    }\r\n  },\r\n  data() {\r\n\r\n    return {\r\n      //“提交计划”弹窗标题\r\n      idEditable: false,\r\n      titleType:'卡其脱离太',\r\n      //主表格初值\r\n      form: {\r\n        Test_Plan_Id: \"1\",\r\n        Test_Plan_Name: \"1\",\r\n        Owning_module: \"1\",\r\n        Human_resource_allocation: \"1\",\r\n        Start_Date: \"1\",\r\n        End_Date: \"1\",\r\n        State: \"1\",\r\n        Priority: \"1\",\r\n        Description: \"1\",\r\n        Test_risk: \"1\",\r\n      },\r\n\r\n      //主表格数据\r\n      PlanData: [\r\n        \r\n      ],\r\n      input_search:'',\r\n       //对话框：概况\r\n        word_description_situationDialog:\"你是一个一个一个一个测试计划啊啊啊\",//描述\r\n        word_basicInformation_situationDialog:[//基本信息\r\n          {label:'所属模块', value:'下北泽'},\r\n          {label:'负责人', value:'李田所'},\r\n          {label:'开始日期', value:'1145 1 4'},\r\n          {label:'结束日期', value:'1919 8 10'},\r\n          {label:'人力资源分配', value:'2'},\r\n          {label:'状态', value:'未完成'},\r\n          {label:'优先级', value:'2'},\r\n          {label:'抄送给', value:'赵拓也'},\r\n        ],\r\n        word_historyRecord_situationDialog:[{//历史记录\r\n\r\n        }],\r\n        situationDialogVisible:false,//\r\n        //表单：增加计划\r\n        titleType:'',\r\n        projects:[//所属模块\r\n\r\n          {value:'系统模块',label:'系统模块'},\r\n          {value:'页面模块',label:'页面模块'}\r\n        ],\r\n         risks:[//严重程度 \r\n\r\n          {label:'最高严重程度', value:'1'},\r\n          {label:'严重程度二', value:'2'},\r\n          {label:'严重程度三', value:'3'},\r\n          {label:'最低严重程度', value:'4'}\r\n        ],\r\n        Priority:[//优先级 \r\n\r\n          {label:'最高优先级', value:'1'},\r\n          {label:'优先级二', value:'2'},\r\n          {label:'优先级三', value:'3'},\r\n          {label:'最低优先级', value:'4'}\r\n        ],\r\n        status:[//状态\r\n          {value:'未开始',label:'未开始'},\r\n          {value:'已开始',label:'已开始'}\r\n        ],\r\n        Human_resource_allocation:[//人力资源分配\r\n          {value:'1到2人',label:'1到2人'},\r\n          {value:'2到3人',label:'2到3人'},\r\n          {value:'3到4人',label:'3到4人'}\r\n        ],\r\n        handler:[//项目负责人\r\n          {value:'han1',label:'小李'},\r\n          {value:'han2',label:'小王'},\r\n          {value:'han3',label:'小闫'}\r\n        ],\r\n        submitPlanDialogVisible:false,\r\n        submitPlanForm: {\r\n          id:'',\r\n          risk:'',\r\n          project: '',\r\n          Priority: '',\r\n          StartDate: '',\r\n          EndDate: '',\r\n          status:'',\r\n          Human_resource_allocation:'',\r\n          name:'',\r\n          handler:'',\r\n          description:''\r\n        },\r\n\r\n    };\r\n  },\r\n};\r\n</script>"]},"metadata":{},"sourceType":"module"}