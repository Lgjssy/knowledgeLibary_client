{"ast":null,"code":"import _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _toConsumableArray from 'babel-runtime/helpers/toConsumableArray';\nimport BaseMixin from '../../_util/BaseMixin';\nimport { hasProp, getPropsData, isEmptyElement, initDefaultProps } from '../../_util/props-util';\nimport { cloneElement } from '../../_util/vnode';\nimport openAnimationFactory from './openAnimationFactory';\nimport { collapseProps } from './commonProps';\n\nfunction _toArray(activeKey) {\n  var currentActiveKey = activeKey;\n\n  if (!Array.isArray(currentActiveKey)) {\n    currentActiveKey = currentActiveKey ? [currentActiveKey] : [];\n  }\n\n  return currentActiveKey.map(function (key) {\n    return String(key);\n  });\n}\n\nexport default {\n  name: 'Collapse',\n  mixins: [BaseMixin],\n  model: {\n    prop: 'activeKey',\n    event: 'change'\n  },\n  props: initDefaultProps(collapseProps(), {\n    prefixCls: 'rc-collapse',\n    accordion: false,\n    destroyInactivePanel: false\n  }),\n  data: function data() {\n    var _$props = this.$props,\n        activeKey = _$props.activeKey,\n        defaultActiveKey = _$props.defaultActiveKey,\n        openAnimation = _$props.openAnimation,\n        prefixCls = _$props.prefixCls;\n    var currentActiveKey = defaultActiveKey;\n\n    if (hasProp(this, 'activeKey')) {\n      currentActiveKey = activeKey;\n    }\n\n    var currentOpenAnimations = openAnimation || openAnimationFactory(prefixCls);\n    return {\n      currentOpenAnimations: currentOpenAnimations,\n      stateActiveKey: _toArray(currentActiveKey)\n    };\n  },\n  watch: {\n    activeKey: function activeKey(val) {\n      this.setState({\n        stateActiveKey: _toArray(val)\n      });\n    },\n    openAnimation: function openAnimation(val) {\n      this.setState({\n        currentOpenAnimations: val\n      });\n    }\n  },\n  methods: {\n    onClickItem: function onClickItem(key) {\n      var activeKey = this.stateActiveKey;\n\n      if (this.accordion) {\n        activeKey = activeKey[0] === key ? [] : [key];\n      } else {\n        activeKey = [].concat(_toConsumableArray(activeKey));\n        var index = activeKey.indexOf(key);\n        var isActive = index > -1;\n\n        if (isActive) {\n          // remove active state\n          activeKey.splice(index, 1);\n        } else {\n          activeKey.push(key);\n        }\n      }\n\n      this.setActiveKey(activeKey);\n    },\n    getNewChild: function getNewChild(child, index) {\n      if (isEmptyElement(child)) return;\n      var activeKey = this.stateActiveKey;\n      var _$props2 = this.$props,\n          prefixCls = _$props2.prefixCls,\n          accordion = _$props2.accordion,\n          destroyInactivePanel = _$props2.destroyInactivePanel,\n          expandIcon = _$props2.expandIcon; // If there is no key provide, use the panel order as default key\n\n      var key = child.key || String(index);\n\n      var _getPropsData = getPropsData(child),\n          header = _getPropsData.header,\n          headerClass = _getPropsData.headerClass,\n          disabled = _getPropsData.disabled;\n\n      var isActive = false;\n\n      if (accordion) {\n        isActive = activeKey[0] === key;\n      } else {\n        isActive = activeKey.indexOf(key) > -1;\n      }\n\n      var panelEvents = {};\n\n      if (!disabled && disabled !== '') {\n        panelEvents = {\n          itemClick: this.onClickItem\n        };\n      }\n\n      var props = {\n        key: key,\n        props: {\n          panelKey: key,\n          header: header,\n          headerClass: headerClass,\n          isActive: isActive,\n          prefixCls: prefixCls,\n          destroyInactivePanel: destroyInactivePanel,\n          openAnimation: this.currentOpenAnimations,\n          accordion: accordion,\n          expandIcon: expandIcon\n        },\n        on: panelEvents\n      };\n      return cloneElement(child, props);\n    },\n    getItems: function getItems() {\n      var _this = this;\n\n      var newChildren = [];\n      this.$slots['default'] && this.$slots['default'].forEach(function (child, index) {\n        newChildren.push(_this.getNewChild(child, index));\n      });\n      return newChildren;\n    },\n    setActiveKey: function setActiveKey(activeKey) {\n      this.setState({\n        stateActiveKey: activeKey\n      });\n      this.$emit('change', this.accordion ? activeKey[0] : activeKey);\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    var _$props3 = this.$props,\n        prefixCls = _$props3.prefixCls,\n        accordion = _$props3.accordion;\n\n    var collapseClassName = _defineProperty({}, prefixCls, true);\n\n    return h('div', {\n      'class': collapseClassName,\n      attrs: {\n        role: accordion ? 'tablist' : null\n      }\n    }, [this.getItems()]);\n  }\n};","map":{"version":3,"names":["_defineProperty","_toConsumableArray","BaseMixin","hasProp","getPropsData","isEmptyElement","initDefaultProps","cloneElement","openAnimationFactory","collapseProps","_toArray","activeKey","currentActiveKey","Array","isArray","map","key","String","name","mixins","model","prop","event","props","prefixCls","accordion","destroyInactivePanel","data","_$props","$props","defaultActiveKey","openAnimation","currentOpenAnimations","stateActiveKey","watch","val","setState","methods","onClickItem","concat","index","indexOf","isActive","splice","push","setActiveKey","getNewChild","child","_$props2","expandIcon","_getPropsData","header","headerClass","disabled","panelEvents","itemClick","panelKey","on","getItems","_this","newChildren","$slots","forEach","$emit","render","h","arguments","_$props3","collapseClassName","attrs","role"],"sources":["D:/Desktop/大三上/实训/项目2.0/xbr/前端/node_modules/ant-design-vue/es/vc-collapse/src/Collapse.js"],"sourcesContent":["import _defineProperty from 'babel-runtime/helpers/defineProperty';\r\nimport _toConsumableArray from 'babel-runtime/helpers/toConsumableArray';\r\nimport BaseMixin from '../../_util/BaseMixin';\r\nimport { hasProp, getPropsData, isEmptyElement, initDefaultProps } from '../../_util/props-util';\r\nimport { cloneElement } from '../../_util/vnode';\r\nimport openAnimationFactory from './openAnimationFactory';\r\nimport { collapseProps } from './commonProps';\r\n\r\nfunction _toArray(activeKey) {\r\n  var currentActiveKey = activeKey;\r\n  if (!Array.isArray(currentActiveKey)) {\r\n    currentActiveKey = currentActiveKey ? [currentActiveKey] : [];\r\n  }\r\n  return currentActiveKey.map(function (key) {\r\n    return String(key);\r\n  });\r\n}\r\nexport default {\r\n  name: 'Collapse',\r\n  mixins: [BaseMixin],\r\n  model: {\r\n    prop: 'activeKey',\r\n    event: 'change'\r\n  },\r\n  props: initDefaultProps(collapseProps(), {\r\n    prefixCls: 'rc-collapse',\r\n    accordion: false,\r\n    destroyInactivePanel: false\r\n  }),\r\n  data: function data() {\r\n    var _$props = this.$props,\r\n        activeKey = _$props.activeKey,\r\n        defaultActiveKey = _$props.defaultActiveKey,\r\n        openAnimation = _$props.openAnimation,\r\n        prefixCls = _$props.prefixCls;\r\n\r\n    var currentActiveKey = defaultActiveKey;\r\n    if (hasProp(this, 'activeKey')) {\r\n      currentActiveKey = activeKey;\r\n    }\r\n    var currentOpenAnimations = openAnimation || openAnimationFactory(prefixCls);\r\n    return {\r\n      currentOpenAnimations: currentOpenAnimations,\r\n      stateActiveKey: _toArray(currentActiveKey)\r\n    };\r\n  },\r\n\r\n  watch: {\r\n    activeKey: function activeKey(val) {\r\n      this.setState({\r\n        stateActiveKey: _toArray(val)\r\n      });\r\n    },\r\n    openAnimation: function openAnimation(val) {\r\n      this.setState({\r\n        currentOpenAnimations: val\r\n      });\r\n    }\r\n  },\r\n  methods: {\r\n    onClickItem: function onClickItem(key) {\r\n      var activeKey = this.stateActiveKey;\r\n      if (this.accordion) {\r\n        activeKey = activeKey[0] === key ? [] : [key];\r\n      } else {\r\n        activeKey = [].concat(_toConsumableArray(activeKey));\r\n        var index = activeKey.indexOf(key);\r\n        var isActive = index > -1;\r\n        if (isActive) {\r\n          // remove active state\r\n          activeKey.splice(index, 1);\r\n        } else {\r\n          activeKey.push(key);\r\n        }\r\n      }\r\n      this.setActiveKey(activeKey);\r\n    },\r\n    getNewChild: function getNewChild(child, index) {\r\n      if (isEmptyElement(child)) return;\r\n      var activeKey = this.stateActiveKey;\r\n      var _$props2 = this.$props,\r\n          prefixCls = _$props2.prefixCls,\r\n          accordion = _$props2.accordion,\r\n          destroyInactivePanel = _$props2.destroyInactivePanel,\r\n          expandIcon = _$props2.expandIcon;\r\n\r\n      // If there is no key provide, use the panel order as default key\r\n\r\n      var key = child.key || String(index);\r\n\r\n      var _getPropsData = getPropsData(child),\r\n          header = _getPropsData.header,\r\n          headerClass = _getPropsData.headerClass,\r\n          disabled = _getPropsData.disabled;\r\n\r\n      var isActive = false;\r\n\r\n      if (accordion) {\r\n        isActive = activeKey[0] === key;\r\n      } else {\r\n        isActive = activeKey.indexOf(key) > -1;\r\n      }\r\n\r\n      var panelEvents = {};\r\n      if (!disabled && disabled !== '') {\r\n        panelEvents = {\r\n          itemClick: this.onClickItem\r\n        };\r\n      }\r\n\r\n      var props = {\r\n        key: key,\r\n        props: {\r\n          panelKey: key,\r\n          header: header,\r\n          headerClass: headerClass,\r\n          isActive: isActive,\r\n          prefixCls: prefixCls,\r\n          destroyInactivePanel: destroyInactivePanel,\r\n          openAnimation: this.currentOpenAnimations,\r\n          accordion: accordion,\r\n          expandIcon: expandIcon\r\n        },\r\n        on: panelEvents\r\n      };\r\n\r\n      return cloneElement(child, props);\r\n    },\r\n    getItems: function getItems() {\r\n      var _this = this;\r\n\r\n      var newChildren = [];\r\n      this.$slots['default'] && this.$slots['default'].forEach(function (child, index) {\r\n        newChildren.push(_this.getNewChild(child, index));\r\n      });\r\n      return newChildren;\r\n    },\r\n    setActiveKey: function setActiveKey(activeKey) {\r\n      this.setState({ stateActiveKey: activeKey });\r\n      this.$emit('change', this.accordion ? activeKey[0] : activeKey);\r\n    }\r\n  },\r\n  render: function render() {\r\n    var h = arguments[0];\r\n    var _$props3 = this.$props,\r\n        prefixCls = _$props3.prefixCls,\r\n        accordion = _$props3.accordion;\r\n\r\n    var collapseClassName = _defineProperty({}, prefixCls, true);\r\n    return h(\r\n      'div',\r\n      { 'class': collapseClassName, attrs: { role: accordion ? 'tablist' : null }\r\n      },\r\n      [this.getItems()]\r\n    );\r\n  }\r\n};"],"mappings":"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"},"metadata":{},"sourceType":"module"}