{"ast":null,"code":"import _mergeJSXProps from 'babel-helper-vue-jsx-merge-props';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _toConsumableArray from 'babel-runtime/helpers/toConsumableArray';\nimport _slicedToArray from 'babel-runtime/helpers/slicedToArray';\nimport PropTypes from '../../_util/vue-types';\nimport BaseMixin from '../../_util/BaseMixin';\nimport { getOptionProps, hasProp, mergeProps, getComponentFromProp, getListeners } from '../../_util/props-util';\nimport moment from 'moment';\nimport KeyCode from '../../_util/KeyCode';\nimport CalendarPart from './range-calendar/CalendarPart';\nimport TodayButton from './calendar/TodayButton';\nimport OkButton from './calendar/OkButton';\nimport TimePickerButton from './calendar/TimePickerButton';\nimport CommonMixin from './mixin/CommonMixin';\nimport enUs from './locale/en_US';\nimport { syncTime, getTodayTime, isAllowedDate } from './util/';\nimport { goTime, goStartMonth, goEndMonth, includesTime } from './util/toTime';\n\nfunction noop() {}\n\nfunction isEmptyArray(arr) {\n  return Array.isArray(arr) && (arr.length === 0 || arr.every(function (i) {\n    return !i;\n  }));\n}\n\nfunction isArraysEqual(a, b) {\n  if (a === b) return true;\n\n  if (a === null || typeof a === 'undefined' || b === null || typeof b === 'undefined') {\n    return false;\n  }\n\n  if (a.length !== b.length) return false;\n\n  for (var i = 0; i < a.length; ++i) {\n    if (a[i] !== b[i]) return false;\n  }\n\n  return true;\n}\n\nfunction getValueFromSelectedValue(selectedValue) {\n  var _selectedValue = _slicedToArray(selectedValue, 2),\n      start = _selectedValue[0],\n      end = _selectedValue[1];\n\n  if (end && (start === undefined || start === null)) {\n    start = end.clone().subtract(1, 'month');\n  }\n\n  if (start && (end === undefined || end === null)) {\n    end = start.clone().add(1, 'month');\n  }\n\n  return [start, end];\n}\n\nfunction normalizeAnchor(props, init) {\n  var selectedValue = props.selectedValue || init && props.defaultSelectedValue;\n  var value = props.value || init && props.defaultValue;\n  var normalizedValue = value ? getValueFromSelectedValue(value) : getValueFromSelectedValue(selectedValue);\n  return !isEmptyArray(normalizedValue) ? normalizedValue : init && [moment(), moment().add(1, 'months')];\n}\n\nfunction generateOptions(length, extraOptionGen) {\n  var arr = extraOptionGen ? extraOptionGen().concat() : [];\n\n  for (var value = 0; value < length; value++) {\n    if (arr.indexOf(value) === -1) {\n      arr.push(value);\n    }\n  }\n\n  return arr;\n}\n\nfunction onInputSelect(direction, value, cause) {\n  if (!value) {\n    return;\n  }\n\n  var originalValue = this.sSelectedValue;\n  var selectedValue = originalValue.concat();\n  var index = direction === 'left' ? 0 : 1;\n  selectedValue[index] = value;\n\n  if (selectedValue[0] && this.compare(selectedValue[0], selectedValue[1]) > 0) {\n    selectedValue[1 - index] = this.sShowTimePicker ? selectedValue[index] : undefined;\n  }\n\n  this.__emit('inputSelect', selectedValue);\n\n  this.fireSelectValueChange(selectedValue, null, cause || {\n    source: 'dateInput'\n  });\n}\n\nvar RangeCalendar = {\n  props: {\n    locale: PropTypes.object.def(enUs),\n    visible: PropTypes.bool.def(true),\n    prefixCls: PropTypes.string.def('rc-calendar'),\n    dateInputPlaceholder: PropTypes.any,\n    seperator: PropTypes.string.def('~'),\n    defaultValue: PropTypes.any,\n    value: PropTypes.any,\n    hoverValue: PropTypes.any,\n    mode: PropTypes.arrayOf(PropTypes.oneOf(['time', 'date', 'month', 'year', 'decade'])),\n    showDateInput: PropTypes.bool.def(true),\n    timePicker: PropTypes.any,\n    showOk: PropTypes.bool,\n    showToday: PropTypes.bool.def(true),\n    defaultSelectedValue: PropTypes.array.def([]),\n    selectedValue: PropTypes.array,\n    showClear: PropTypes.bool,\n    showWeekNumber: PropTypes.bool,\n    // locale: PropTypes.object,\n    // onChange: PropTypes.func,\n    // onSelect: PropTypes.func,\n    // onValueChange: PropTypes.func,\n    // onHoverChange: PropTypes.func,\n    // onPanelChange: PropTypes.func,\n    format: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string), PropTypes.func]),\n    // onClear: PropTypes.func,\n    type: PropTypes.any.def('both'),\n    disabledDate: PropTypes.func,\n    disabledTime: PropTypes.func.def(noop),\n    renderFooter: PropTypes.func.def(function () {\n      return null;\n    }),\n    renderSidebar: PropTypes.func.def(function () {\n      return null;\n    }),\n    dateRender: PropTypes.func,\n    clearIcon: PropTypes.any,\n    inputReadOnly: PropTypes.bool\n  },\n  mixins: [BaseMixin, CommonMixin],\n  data: function data() {\n    var props = this.$props;\n    var selectedValue = props.selectedValue || props.defaultSelectedValue;\n    var value = normalizeAnchor(props, 1);\n    return {\n      sSelectedValue: selectedValue,\n      prevSelectedValue: selectedValue,\n      firstSelectedValue: null,\n      sHoverValue: props.hoverValue || [],\n      sValue: value,\n      sShowTimePicker: false,\n      sMode: props.mode || ['date', 'date'],\n      sPanelTriggerSource: '' // Trigger by which picker panel: 'start' & 'end'\n\n    };\n  },\n  watch: {\n    value: function value() {\n      var newState = {};\n      newState.sValue = normalizeAnchor(this.$props, 0);\n      this.setState(newState);\n    },\n    hoverValue: function hoverValue(val) {\n      if (!isArraysEqual(this.sHoverValue, val)) {\n        this.setState({\n          sHoverValue: val\n        });\n      }\n    },\n    selectedValue: function selectedValue(val) {\n      var newState = {};\n      newState.sSelectedValue = val;\n      newState.prevSelectedValue = val;\n      this.setState(newState);\n    },\n    mode: function mode(val) {\n      if (!isArraysEqual(this.sMode, val)) {\n        this.setState({\n          sMode: val\n        });\n      }\n    }\n  },\n  methods: {\n    onDatePanelEnter: function onDatePanelEnter() {\n      if (this.hasSelectedValue()) {\n        this.fireHoverValueChange(this.sSelectedValue.concat());\n      }\n    },\n    onDatePanelLeave: function onDatePanelLeave() {\n      if (this.hasSelectedValue()) {\n        this.fireHoverValueChange([]);\n      }\n    },\n    onSelect: function onSelect(value) {\n      var type = this.type,\n          sSelectedValue = this.sSelectedValue,\n          prevSelectedValue = this.prevSelectedValue,\n          firstSelectedValue = this.firstSelectedValue;\n      var nextSelectedValue = void 0;\n\n      if (type === 'both') {\n        if (!firstSelectedValue) {\n          syncTime(prevSelectedValue[0], value);\n          nextSelectedValue = [value];\n        } else if (this.compare(firstSelectedValue, value) < 0) {\n          syncTime(prevSelectedValue[1], value);\n          nextSelectedValue = [firstSelectedValue, value];\n        } else {\n          syncTime(prevSelectedValue[0], value);\n          syncTime(prevSelectedValue[1], firstSelectedValue);\n          nextSelectedValue = [value, firstSelectedValue];\n        }\n      } else if (type === 'start') {\n        syncTime(prevSelectedValue[0], value);\n        var endValue = sSelectedValue[1];\n        nextSelectedValue = endValue && this.compare(endValue, value) > 0 ? [value, endValue] : [value];\n      } else {\n        // type === 'end'\n        var startValue = sSelectedValue[0];\n\n        if (startValue && this.compare(startValue, value) <= 0) {\n          syncTime(prevSelectedValue[1], value);\n          nextSelectedValue = [startValue, value];\n        } else {\n          syncTime(prevSelectedValue[0], value);\n          nextSelectedValue = [value];\n        }\n      }\n\n      this.fireSelectValueChange(nextSelectedValue);\n    },\n    onKeyDown: function onKeyDown(event) {\n      var _this = this;\n\n      if (event.target.nodeName.toLowerCase() === 'input') {\n        return;\n      }\n\n      var keyCode = event.keyCode;\n      var ctrlKey = event.ctrlKey || event.metaKey;\n      var _$data = this.$data,\n          selectedValue = _$data.sSelectedValue,\n          hoverValue = _$data.sHoverValue,\n          firstSelectedValue = _$data.firstSelectedValue,\n          value = _$data.sValue;\n      var disabledDate = this.$props.disabledDate; // Update last time of the picker\n\n      var updateHoverPoint = function updateHoverPoint(func) {\n        // Change hover to make focus in UI\n        var currentHoverTime = void 0;\n        var nextHoverTime = void 0;\n        var nextHoverValue = void 0;\n\n        if (!firstSelectedValue) {\n          currentHoverTime = hoverValue[0] || selectedValue[0] || value[0] || moment();\n          nextHoverTime = func(currentHoverTime);\n          nextHoverValue = [nextHoverTime];\n\n          _this.fireHoverValueChange(nextHoverValue);\n        } else {\n          if (hoverValue.length === 1) {\n            currentHoverTime = hoverValue[0].clone();\n            nextHoverTime = func(currentHoverTime);\n            nextHoverValue = _this.onDayHover(nextHoverTime);\n          } else {\n            currentHoverTime = hoverValue[0].isSame(firstSelectedValue, 'day') ? hoverValue[1] : hoverValue[0];\n            nextHoverTime = func(currentHoverTime);\n            nextHoverValue = _this.onDayHover(nextHoverTime);\n          }\n        } // Find origin hover time on value index\n\n\n        if (nextHoverValue.length >= 2) {\n          var miss = nextHoverValue.some(function (ht) {\n            return !includesTime(value, ht, 'month');\n          });\n\n          if (miss) {\n            var newValue = nextHoverValue.slice().sort(function (t1, t2) {\n              return t1.valueOf() - t2.valueOf();\n            });\n\n            if (newValue[0].isSame(newValue[1], 'month')) {\n              newValue[1] = newValue[0].clone().add(1, 'month');\n            }\n\n            _this.fireValueChange(newValue);\n          }\n        } else if (nextHoverValue.length === 1) {\n          // If only one value, let's keep the origin panel\n          var oriValueIndex = value.findIndex(function (time) {\n            return time.isSame(currentHoverTime, 'month');\n          });\n          if (oriValueIndex === -1) oriValueIndex = 0;\n\n          if (value.every(function (time) {\n            return !time.isSame(nextHoverTime, 'month');\n          })) {\n            var _newValue = value.slice();\n\n            _newValue[oriValueIndex] = nextHoverTime.clone();\n\n            _this.fireValueChange(_newValue);\n          }\n        }\n\n        event.preventDefault();\n        return nextHoverTime;\n      };\n\n      switch (keyCode) {\n        case KeyCode.DOWN:\n          updateHoverPoint(function (time) {\n            return goTime(time, 1, 'weeks');\n          });\n          return;\n\n        case KeyCode.UP:\n          updateHoverPoint(function (time) {\n            return goTime(time, -1, 'weeks');\n          });\n          return;\n\n        case KeyCode.LEFT:\n          if (ctrlKey) {\n            updateHoverPoint(function (time) {\n              return goTime(time, -1, 'years');\n            });\n          } else {\n            updateHoverPoint(function (time) {\n              return goTime(time, -1, 'days');\n            });\n          }\n\n          return;\n\n        case KeyCode.RIGHT:\n          if (ctrlKey) {\n            updateHoverPoint(function (time) {\n              return goTime(time, 1, 'years');\n            });\n          } else {\n            updateHoverPoint(function (time) {\n              return goTime(time, 1, 'days');\n            });\n          }\n\n          return;\n\n        case KeyCode.HOME:\n          updateHoverPoint(function (time) {\n            return goStartMonth(time);\n          });\n          return;\n\n        case KeyCode.END:\n          updateHoverPoint(function (time) {\n            return goEndMonth(time);\n          });\n          return;\n\n        case KeyCode.PAGE_DOWN:\n          updateHoverPoint(function (time) {\n            return goTime(time, 1, 'month');\n          });\n          return;\n\n        case KeyCode.PAGE_UP:\n          updateHoverPoint(function (time) {\n            return goTime(time, -1, 'month');\n          });\n          return;\n\n        case KeyCode.ENTER:\n          {\n            var lastValue = void 0;\n\n            if (hoverValue.length === 0) {\n              lastValue = updateHoverPoint(function (time) {\n                return time;\n              });\n            } else if (hoverValue.length === 1) {\n              lastValue = hoverValue[0];\n            } else {\n              lastValue = hoverValue[0].isSame(firstSelectedValue, 'day') ? hoverValue[1] : hoverValue[0];\n            }\n\n            if (lastValue && (!disabledDate || !disabledDate(lastValue))) {\n              this.onSelect(lastValue);\n            }\n\n            event.preventDefault();\n            return;\n          }\n\n        default:\n          this.__emit('keydown', event);\n\n      }\n    },\n    onDayHover: function onDayHover(value) {\n      var hoverValue = [];\n      var sSelectedValue = this.sSelectedValue,\n          firstSelectedValue = this.firstSelectedValue,\n          type = this.type;\n\n      if (type === 'start' && sSelectedValue[1]) {\n        hoverValue = this.compare(value, sSelectedValue[1]) < 0 ? [value, sSelectedValue[1]] : [value];\n      } else if (type === 'end' && sSelectedValue[0]) {\n        hoverValue = this.compare(value, sSelectedValue[0]) > 0 ? [sSelectedValue[0], value] : [];\n      } else {\n        if (!firstSelectedValue) {\n          if (this.sHoverValue.length) {\n            this.setState({\n              sHoverValue: []\n            });\n          }\n\n          return hoverValue;\n        }\n\n        hoverValue = this.compare(value, firstSelectedValue) < 0 ? [value, firstSelectedValue] : [firstSelectedValue, value];\n      }\n\n      this.fireHoverValueChange(hoverValue);\n      return hoverValue;\n    },\n    onToday: function onToday() {\n      var startValue = getTodayTime(this.sValue[0]);\n      var endValue = startValue.clone().add(1, 'months');\n      this.setState({\n        sValue: [startValue, endValue]\n      });\n    },\n    onOpenTimePicker: function onOpenTimePicker() {\n      this.setState({\n        sShowTimePicker: true\n      });\n    },\n    onCloseTimePicker: function onCloseTimePicker() {\n      this.setState({\n        sShowTimePicker: false\n      });\n    },\n    onOk: function onOk() {\n      var sSelectedValue = this.sSelectedValue;\n\n      if (this.isAllowedDateAndTime(sSelectedValue)) {\n        this.__emit('ok', sSelectedValue);\n      }\n    },\n    onStartInputChange: function onStartInputChange() {\n      for (var _len = arguments.length, oargs = Array(_len), _key = 0; _key < _len; _key++) {\n        oargs[_key] = arguments[_key];\n      }\n\n      var args = ['left'].concat(oargs);\n      return onInputSelect.apply(this, args);\n    },\n    onEndInputChange: function onEndInputChange() {\n      for (var _len2 = arguments.length, oargs = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        oargs[_key2] = arguments[_key2];\n      }\n\n      var args = ['right'].concat(oargs);\n      return onInputSelect.apply(this, args);\n    },\n    onStartInputSelect: function onStartInputSelect(value) {\n      var args = ['left', value, {\n        source: 'dateInputSelect'\n      }];\n      return onInputSelect.apply(this, args);\n    },\n    onEndInputSelect: function onEndInputSelect(value) {\n      var args = ['right', value, {\n        source: 'dateInputSelect'\n      }];\n      return onInputSelect.apply(this, args);\n    },\n    onStartValueChange: function onStartValueChange(leftValue) {\n      var value = [].concat(_toConsumableArray(this.sValue));\n      value[0] = leftValue;\n      return this.fireValueChange(value);\n    },\n    onEndValueChange: function onEndValueChange(rightValue) {\n      var value = [].concat(_toConsumableArray(this.sValue));\n      value[1] = rightValue;\n      return this.fireValueChange(value);\n    },\n    onStartPanelChange: function onStartPanelChange(value, mode) {\n      var sMode = this.sMode,\n          sValue = this.sValue;\n      var newMode = [mode, sMode[1]];\n      var newValue = [value || sValue[0], sValue[1]];\n\n      this.__emit('panelChange', newValue, newMode);\n\n      var newState = {\n        sPanelTriggerSource: 'start'\n      };\n\n      if (!hasProp(this, 'mode')) {\n        newState.sMode = newMode;\n      }\n\n      this.setState(newState);\n    },\n    onEndPanelChange: function onEndPanelChange(value, mode) {\n      var sMode = this.sMode,\n          sValue = this.sValue;\n      var newMode = [sMode[0], mode];\n      var newValue = [sValue[0], value || sValue[1]];\n\n      this.__emit('panelChange', newValue, newMode);\n\n      var newState = {\n        sPanelTriggerSource: 'end'\n      };\n\n      if (!hasProp(this, 'mode')) {\n        newState.sMode = newMode;\n      }\n\n      this.setState(newState);\n    },\n    getStartValue: function getStartValue() {\n      var _$data2 = this.$data,\n          selectedValue = _$data2.sSelectedValue,\n          showTimePicker = _$data2.sShowTimePicker,\n          value = _$data2.sValue,\n          mode = _$data2.sMode,\n          panelTriggerSource = _$data2.sPanelTriggerSource;\n      var startValue = value[0]; // keep selectedTime when select date\n\n      if (selectedValue[0] && this.$props.timePicker) {\n        startValue = startValue.clone();\n        syncTime(selectedValue[0], startValue);\n      }\n\n      if (showTimePicker && selectedValue[0]) {\n        startValue = selectedValue[0];\n      } // Adjust month if date not align\n\n\n      if (panelTriggerSource === 'end' && mode[0] === 'date' && mode[1] === 'date' && startValue.isSame(value[1], 'month')) {\n        startValue = startValue.clone().subtract(1, 'month');\n      }\n\n      return startValue;\n    },\n    getEndValue: function getEndValue() {\n      var _$data3 = this.$data,\n          selectedValue = _$data3.sSelectedValue,\n          showTimePicker = _$data3.sShowTimePicker,\n          value = _$data3.sValue,\n          mode = _$data3.sMode,\n          panelTriggerSource = _$data3.sPanelTriggerSource;\n      var endValue = value[1] ? value[1].clone() : value[0].clone().add(1, 'month'); // keep selectedTime when select date\n\n      if (selectedValue[1] && this.$props.timePicker) {\n        syncTime(selectedValue[1], endValue);\n      }\n\n      if (showTimePicker) {\n        endValue = selectedValue[1] ? selectedValue[1] : this.getStartValue();\n      } // Adjust month if date not align\n\n\n      if (!showTimePicker && panelTriggerSource !== 'end' && mode[0] === 'date' && mode[1] === 'date' && endValue.isSame(value[0], 'month')) {\n        endValue = endValue.clone().add(1, 'month');\n      }\n\n      return endValue;\n    },\n    // get disabled hours for second picker\n    getEndDisableTime: function getEndDisableTime() {\n      var sSelectedValue = this.sSelectedValue,\n          sValue = this.sValue,\n          disabledTime = this.disabledTime;\n      var userSettingDisabledTime = disabledTime(sSelectedValue, 'end') || {};\n      var startValue = sSelectedValue && sSelectedValue[0] || sValue[0].clone(); // if startTime and endTime is same day..\n      // the second time picker will not able to pick time before first time picker\n\n      if (!sSelectedValue[1] || startValue.isSame(sSelectedValue[1], 'day')) {\n        var hours = startValue.hour();\n        var minutes = startValue.minute();\n        var second = startValue.second();\n        var _disabledHours = userSettingDisabledTime.disabledHours,\n            _disabledMinutes = userSettingDisabledTime.disabledMinutes,\n            _disabledSeconds = userSettingDisabledTime.disabledSeconds;\n        var oldDisabledMinutes = _disabledMinutes ? _disabledMinutes() : [];\n        var olddisabledSeconds = _disabledSeconds ? _disabledSeconds() : [];\n        _disabledHours = generateOptions(hours, _disabledHours);\n        _disabledMinutes = generateOptions(minutes, _disabledMinutes);\n        _disabledSeconds = generateOptions(second, _disabledSeconds);\n        return {\n          disabledHours: function disabledHours() {\n            return _disabledHours;\n          },\n          disabledMinutes: function disabledMinutes(hour) {\n            if (hour === hours) {\n              return _disabledMinutes;\n            }\n\n            return oldDisabledMinutes;\n          },\n          disabledSeconds: function disabledSeconds(hour, minute) {\n            if (hour === hours && minute === minutes) {\n              return _disabledSeconds;\n            }\n\n            return olddisabledSeconds;\n          }\n        };\n      }\n\n      return userSettingDisabledTime;\n    },\n    isAllowedDateAndTime: function isAllowedDateAndTime(selectedValue) {\n      return isAllowedDate(selectedValue[0], this.disabledDate, this.disabledStartTime) && isAllowedDate(selectedValue[1], this.disabledDate, this.disabledEndTime);\n    },\n    isMonthYearPanelShow: function isMonthYearPanelShow(mode) {\n      return ['month', 'year', 'decade'].indexOf(mode) > -1;\n    },\n    hasSelectedValue: function hasSelectedValue() {\n      var sSelectedValue = this.sSelectedValue;\n      return !!sSelectedValue[1] && !!sSelectedValue[0];\n    },\n    compare: function compare(v1, v2) {\n      if (this.timePicker) {\n        return v1.diff(v2);\n      }\n\n      return v1.diff(v2, 'days');\n    },\n    fireSelectValueChange: function fireSelectValueChange(selectedValue, direct, cause) {\n      var timePicker = this.timePicker,\n          prevSelectedValue = this.prevSelectedValue;\n\n      if (timePicker) {\n        var timePickerProps = getOptionProps(timePicker);\n\n        if (timePickerProps.defaultValue) {\n          var timePickerDefaultValue = timePickerProps.defaultValue;\n\n          if (!prevSelectedValue[0] && selectedValue[0]) {\n            syncTime(timePickerDefaultValue[0], selectedValue[0]);\n          }\n\n          if (!prevSelectedValue[1] && selectedValue[1]) {\n            syncTime(timePickerDefaultValue[1], selectedValue[1]);\n          }\n        }\n      } // 尚未选择过时间，直接输入的话\n\n\n      if (!this.sSelectedValue[0] || !this.sSelectedValue[1]) {\n        var startValue = selectedValue[0] || moment();\n        var endValue = selectedValue[1] || startValue.clone().add(1, 'months');\n        this.setState({\n          sSelectedValue: selectedValue,\n          sValue: selectedValue && selectedValue.length === 2 ? getValueFromSelectedValue([startValue, endValue]) : this.sValue\n        });\n      }\n\n      if (selectedValue[0] && !selectedValue[1]) {\n        this.setState({\n          firstSelectedValue: selectedValue[0]\n        });\n        this.fireHoverValueChange(selectedValue.concat());\n      }\n\n      this.__emit('change', selectedValue);\n\n      if (direct || selectedValue[0] && selectedValue[1]) {\n        this.setState({\n          prevSelectedValue: selectedValue,\n          firstSelectedValue: null\n        });\n        this.fireHoverValueChange([]);\n\n        this.__emit('select', selectedValue, cause);\n      }\n\n      if (!hasProp(this, 'selectedValue')) {\n        this.setState({\n          sSelectedValue: selectedValue\n        });\n      }\n    },\n    fireValueChange: function fireValueChange(value) {\n      if (!hasProp(this, 'value')) {\n        this.setState({\n          sValue: value\n        });\n      }\n\n      this.__emit('valueChange', value);\n    },\n    fireHoverValueChange: function fireHoverValueChange(hoverValue) {\n      if (!hasProp(this, 'hoverValue')) {\n        this.setState({\n          sHoverValue: hoverValue\n        });\n      }\n\n      this.__emit('hoverChange', hoverValue);\n    },\n    clear: function clear() {\n      this.fireSelectValueChange([], true);\n\n      this.__emit('clear');\n    },\n    disabledStartTime: function disabledStartTime(time) {\n      return this.disabledTime(time, 'start');\n    },\n    disabledEndTime: function disabledEndTime(time) {\n      return this.disabledTime(time, 'end');\n    },\n    disabledStartMonth: function disabledStartMonth(month) {\n      var sValue = this.sValue;\n      return month.isAfter(sValue[1], 'month');\n    },\n    disabledEndMonth: function disabledEndMonth(month) {\n      var sValue = this.sValue;\n      return month.isBefore(sValue[0], 'month');\n    }\n  },\n  render: function render() {\n    var _className, _cls;\n\n    var h = arguments[0];\n    var props = getOptionProps(this);\n    var prefixCls = props.prefixCls,\n        dateInputPlaceholder = props.dateInputPlaceholder,\n        timePicker = props.timePicker,\n        showOk = props.showOk,\n        locale = props.locale,\n        showClear = props.showClear,\n        showToday = props.showToday,\n        type = props.type,\n        seperator = props.seperator;\n    var clearIcon = getComponentFromProp(this, 'clearIcon');\n    var sHoverValue = this.sHoverValue,\n        sSelectedValue = this.sSelectedValue,\n        mode = this.sMode,\n        sShowTimePicker = this.sShowTimePicker,\n        sValue = this.sValue;\n    var className = (_className = {}, _defineProperty(_className, prefixCls, 1), _defineProperty(_className, prefixCls + '-hidden', !props.visible), _defineProperty(_className, prefixCls + '-range', 1), _defineProperty(_className, prefixCls + '-show-time-picker', sShowTimePicker), _defineProperty(_className, prefixCls + '-week-number', props.showWeekNumber), _className);\n    var baseProps = {\n      props: props,\n      on: getListeners(this)\n    };\n    var newProps = {\n      props: {\n        selectedValue: sSelectedValue\n      },\n      on: {\n        select: this.onSelect,\n        dayHover: type === 'start' && sSelectedValue[1] || type === 'end' && sSelectedValue[0] || !!sHoverValue.length ? this.onDayHover : noop\n      }\n    };\n    var placeholder1 = void 0;\n    var placeholder2 = void 0;\n\n    if (dateInputPlaceholder) {\n      if (Array.isArray(dateInputPlaceholder)) {\n        var _dateInputPlaceholder = _slicedToArray(dateInputPlaceholder, 2);\n\n        placeholder1 = _dateInputPlaceholder[0];\n        placeholder2 = _dateInputPlaceholder[1];\n      } else {\n        placeholder1 = placeholder2 = dateInputPlaceholder;\n      }\n    }\n\n    var showOkButton = showOk === true || showOk !== false && !!timePicker;\n    var cls = (_cls = {}, _defineProperty(_cls, prefixCls + '-footer', true), _defineProperty(_cls, prefixCls + '-range-bottom', true), _defineProperty(_cls, prefixCls + '-footer-show-ok', showOkButton), _cls);\n    var startValue = this.getStartValue();\n    var endValue = this.getEndValue();\n    var todayTime = getTodayTime(startValue);\n    var thisMonth = todayTime.month();\n    var thisYear = todayTime.year();\n    var isTodayInView = startValue.year() === thisYear && startValue.month() === thisMonth || endValue.year() === thisYear && endValue.month() === thisMonth;\n    var nextMonthOfStart = startValue.clone().add(1, 'months');\n    var isClosestMonths = nextMonthOfStart.year() === endValue.year() && nextMonthOfStart.month() === endValue.month();\n    var leftPartProps = mergeProps(baseProps, newProps, {\n      props: {\n        hoverValue: sHoverValue,\n        direction: 'left',\n        disabledTime: this.disabledStartTime,\n        disabledMonth: this.disabledStartMonth,\n        format: this.getFormat(),\n        value: startValue,\n        mode: mode[0],\n        placeholder: placeholder1,\n        showDateInput: this.showDateInput,\n        timePicker: timePicker,\n        showTimePicker: sShowTimePicker || mode[0] === 'time',\n        enablePrev: true,\n        enableNext: !isClosestMonths || this.isMonthYearPanelShow(mode[1]),\n        clearIcon: clearIcon\n      },\n      on: {\n        inputChange: this.onStartInputChange,\n        inputSelect: this.onStartInputSelect,\n        valueChange: this.onStartValueChange,\n        panelChange: this.onStartPanelChange\n      }\n    });\n    var rightPartProps = mergeProps(baseProps, newProps, {\n      props: {\n        hoverValue: sHoverValue,\n        direction: 'right',\n        format: this.getFormat(),\n        timePickerDisabledTime: this.getEndDisableTime(),\n        placeholder: placeholder2,\n        value: endValue,\n        mode: mode[1],\n        showDateInput: this.showDateInput,\n        timePicker: timePicker,\n        showTimePicker: sShowTimePicker || mode[1] === 'time',\n        disabledTime: this.disabledEndTime,\n        disabledMonth: this.disabledEndMonth,\n        enablePrev: !isClosestMonths || this.isMonthYearPanelShow(mode[0]),\n        enableNext: true,\n        clearIcon: clearIcon\n      },\n      on: {\n        inputChange: this.onEndInputChange,\n        inputSelect: this.onEndInputSelect,\n        valueChange: this.onEndValueChange,\n        panelChange: this.onEndPanelChange\n      }\n    });\n    var TodayButtonNode = null;\n\n    if (showToday) {\n      var todayButtonProps = mergeProps(baseProps, {\n        props: {\n          disabled: isTodayInView,\n          value: sValue[0],\n          text: locale.backToToday\n        },\n        on: {\n          today: this.onToday\n        }\n      });\n      TodayButtonNode = h(TodayButton, _mergeJSXProps([{\n        key: 'todayButton'\n      }, todayButtonProps]));\n    }\n\n    var TimePickerButtonNode = null;\n\n    if (props.timePicker) {\n      var timePickerButtonProps = mergeProps(baseProps, {\n        props: {\n          showTimePicker: sShowTimePicker || mode[0] === 'time' && mode[1] === 'time',\n          timePickerDisabled: !this.hasSelectedValue() || sHoverValue.length\n        },\n        on: {\n          openTimePicker: this.onOpenTimePicker,\n          closeTimePicker: this.onCloseTimePicker\n        }\n      });\n      TimePickerButtonNode = h(TimePickerButton, _mergeJSXProps([{\n        key: 'timePickerButton'\n      }, timePickerButtonProps]));\n    }\n\n    var OkButtonNode = null;\n\n    if (showOkButton) {\n      var okButtonProps = mergeProps(baseProps, {\n        props: {\n          okDisabled: !this.isAllowedDateAndTime(sSelectedValue) || !this.hasSelectedValue() || sHoverValue.length\n        },\n        on: {\n          ok: this.onOk\n        }\n      });\n      OkButtonNode = h(OkButton, _mergeJSXProps([{\n        key: 'okButtonNode'\n      }, okButtonProps]));\n    }\n\n    var extraFooter = this.renderFooter(mode);\n    return h('div', {\n      ref: 'rootInstance',\n      'class': className,\n      attrs: {\n        tabIndex: '0'\n      },\n      on: {\n        'keydown': this.onKeyDown\n      }\n    }, [props.renderSidebar(), h('div', {\n      'class': prefixCls + '-panel'\n    }, [showClear && sSelectedValue[0] && sSelectedValue[1] ? h('a', {\n      attrs: {\n        role: 'button',\n        title: locale.clear\n      },\n      on: {\n        'click': this.clear\n      }\n    }, [clearIcon || h('span', {\n      'class': prefixCls + '-clear-btn'\n    })]) : null, h('div', {\n      'class': prefixCls + '-date-panel',\n      on: {\n        'mouseleave': type !== 'both' ? this.onDatePanelLeave : noop,\n        'mouseenter': type !== 'both' ? this.onDatePanelEnter : noop\n      }\n    }, [h(CalendarPart, leftPartProps), h('span', {\n      'class': prefixCls + '-range-middle'\n    }, [seperator]), h(CalendarPart, rightPartProps)]), h('div', {\n      'class': cls\n    }, [showToday || props.timePicker || showOkButton || extraFooter ? h('div', {\n      'class': prefixCls + '-footer-btn'\n    }, [extraFooter, TodayButtonNode, TimePickerButtonNode, OkButtonNode]) : null])])]);\n  }\n};\nexport default RangeCalendar;","map":{"version":3,"names":["_mergeJSXProps","_defineProperty","_toConsumableArray","_slicedToArray","PropTypes","BaseMixin","getOptionProps","hasProp","mergeProps","getComponentFromProp","getListeners","moment","KeyCode","CalendarPart","TodayButton","OkButton","TimePickerButton","CommonMixin","enUs","syncTime","getTodayTime","isAllowedDate","goTime","goStartMonth","goEndMonth","includesTime","noop","isEmptyArray","arr","Array","isArray","length","every","i","isArraysEqual","a","b","getValueFromSelectedValue","selectedValue","_selectedValue","start","end","undefined","clone","subtract","add","normalizeAnchor","props","init","defaultSelectedValue","value","defaultValue","normalizedValue","generateOptions","extraOptionGen","concat","indexOf","push","onInputSelect","direction","cause","originalValue","sSelectedValue","index","compare","sShowTimePicker","__emit","fireSelectValueChange","source","RangeCalendar","locale","object","def","visible","bool","prefixCls","string","dateInputPlaceholder","any","seperator","hoverValue","mode","arrayOf","oneOf","showDateInput","timePicker","showOk","showToday","array","showClear","showWeekNumber","format","oneOfType","func","type","disabledDate","disabledTime","renderFooter","renderSidebar","dateRender","clearIcon","inputReadOnly","mixins","data","$props","prevSelectedValue","firstSelectedValue","sHoverValue","sValue","sMode","sPanelTriggerSource","watch","newState","setState","val","methods","onDatePanelEnter","hasSelectedValue","fireHoverValueChange","onDatePanelLeave","onSelect","nextSelectedValue","endValue","startValue","onKeyDown","event","_this","target","nodeName","toLowerCase","keyCode","ctrlKey","metaKey","_$data","$data","updateHoverPoint","currentHoverTime","nextHoverTime","nextHoverValue","onDayHover","isSame","miss","some","ht","newValue","slice","sort","t1","t2","valueOf","fireValueChange","oriValueIndex","findIndex","time","_newValue","preventDefault","DOWN","UP","LEFT","RIGHT","HOME","END","PAGE_DOWN","PAGE_UP","ENTER","lastValue","onToday","onOpenTimePicker","onCloseTimePicker","onOk","isAllowedDateAndTime","onStartInputChange","_len","arguments","oargs","_key","args","apply","onEndInputChange","_len2","_key2","onStartInputSelect","onEndInputSelect","onStartValueChange","leftValue","onEndValueChange","rightValue","onStartPanelChange","newMode","onEndPanelChange","getStartValue","_$data2","showTimePicker","panelTriggerSource","getEndValue","_$data3","getEndDisableTime","userSettingDisabledTime","hours","hour","minutes","minute","second","_disabledHours","disabledHours","_disabledMinutes","disabledMinutes","_disabledSeconds","disabledSeconds","oldDisabledMinutes","olddisabledSeconds","disabledStartTime","disabledEndTime","isMonthYearPanelShow","v1","v2","diff","direct","timePickerProps","timePickerDefaultValue","clear","disabledStartMonth","month","isAfter","disabledEndMonth","isBefore","render","_className","_cls","h","className","baseProps","on","newProps","select","dayHover","placeholder1","placeholder2","_dateInputPlaceholder","showOkButton","cls","todayTime","thisMonth","thisYear","year","isTodayInView","nextMonthOfStart","isClosestMonths","leftPartProps","disabledMonth","getFormat","placeholder","enablePrev","enableNext","inputChange","inputSelect","valueChange","panelChange","rightPartProps","timePickerDisabledTime","TodayButtonNode","todayButtonProps","disabled","text","backToToday","today","key","TimePickerButtonNode","timePickerButtonProps","timePickerDisabled","openTimePicker","closeTimePicker","OkButtonNode","okButtonProps","okDisabled","ok","extraFooter","ref","attrs","tabIndex","role","title"],"sources":["D:/Desktop/大三上/实训/项目2.0/xbr/xbr/前端/node_modules/ant-design-vue/es/vc-calendar/src/RangeCalendar.js"],"sourcesContent":["import _mergeJSXProps from 'babel-helper-vue-jsx-merge-props';\r\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\r\nimport _toConsumableArray from 'babel-runtime/helpers/toConsumableArray';\r\nimport _slicedToArray from 'babel-runtime/helpers/slicedToArray';\r\nimport PropTypes from '../../_util/vue-types';\r\nimport BaseMixin from '../../_util/BaseMixin';\r\nimport { getOptionProps, hasProp, mergeProps, getComponentFromProp, getListeners } from '../../_util/props-util';\r\nimport moment from 'moment';\r\nimport KeyCode from '../../_util/KeyCode';\r\nimport CalendarPart from './range-calendar/CalendarPart';\r\nimport TodayButton from './calendar/TodayButton';\r\nimport OkButton from './calendar/OkButton';\r\nimport TimePickerButton from './calendar/TimePickerButton';\r\nimport CommonMixin from './mixin/CommonMixin';\r\nimport enUs from './locale/en_US';\r\nimport { syncTime, getTodayTime, isAllowedDate } from './util/';\r\nimport { goTime, goStartMonth, goEndMonth, includesTime } from './util/toTime';\r\n\r\nfunction noop() {}\r\n\r\nfunction isEmptyArray(arr) {\r\n  return Array.isArray(arr) && (arr.length === 0 || arr.every(function (i) {\r\n    return !i;\r\n  }));\r\n}\r\n\r\nfunction isArraysEqual(a, b) {\r\n  if (a === b) return true;\r\n  if (a === null || typeof a === 'undefined' || b === null || typeof b === 'undefined') {\r\n    return false;\r\n  }\r\n  if (a.length !== b.length) return false;\r\n\r\n  for (var i = 0; i < a.length; ++i) {\r\n    if (a[i] !== b[i]) return false;\r\n  }\r\n  return true;\r\n}\r\n\r\nfunction getValueFromSelectedValue(selectedValue) {\r\n  var _selectedValue = _slicedToArray(selectedValue, 2),\r\n      start = _selectedValue[0],\r\n      end = _selectedValue[1];\r\n\r\n  if (end && (start === undefined || start === null)) {\r\n    start = end.clone().subtract(1, 'month');\r\n  }\r\n\r\n  if (start && (end === undefined || end === null)) {\r\n    end = start.clone().add(1, 'month');\r\n  }\r\n  return [start, end];\r\n}\r\n\r\nfunction normalizeAnchor(props, init) {\r\n  var selectedValue = props.selectedValue || init && props.defaultSelectedValue;\r\n  var value = props.value || init && props.defaultValue;\r\n  var normalizedValue = value ? getValueFromSelectedValue(value) : getValueFromSelectedValue(selectedValue);\r\n  return !isEmptyArray(normalizedValue) ? normalizedValue : init && [moment(), moment().add(1, 'months')];\r\n}\r\n\r\nfunction generateOptions(length, extraOptionGen) {\r\n  var arr = extraOptionGen ? extraOptionGen().concat() : [];\r\n  for (var value = 0; value < length; value++) {\r\n    if (arr.indexOf(value) === -1) {\r\n      arr.push(value);\r\n    }\r\n  }\r\n  return arr;\r\n}\r\n\r\nfunction onInputSelect(direction, value, cause) {\r\n  if (!value) {\r\n    return;\r\n  }\r\n  var originalValue = this.sSelectedValue;\r\n  var selectedValue = originalValue.concat();\r\n  var index = direction === 'left' ? 0 : 1;\r\n  selectedValue[index] = value;\r\n  if (selectedValue[0] && this.compare(selectedValue[0], selectedValue[1]) > 0) {\r\n    selectedValue[1 - index] = this.sShowTimePicker ? selectedValue[index] : undefined;\r\n  }\r\n  this.__emit('inputSelect', selectedValue);\r\n  this.fireSelectValueChange(selectedValue, null, cause || { source: 'dateInput' });\r\n}\r\n\r\nvar RangeCalendar = {\r\n  props: {\r\n    locale: PropTypes.object.def(enUs),\r\n    visible: PropTypes.bool.def(true),\r\n    prefixCls: PropTypes.string.def('rc-calendar'),\r\n    dateInputPlaceholder: PropTypes.any,\r\n    seperator: PropTypes.string.def('~'),\r\n    defaultValue: PropTypes.any,\r\n    value: PropTypes.any,\r\n    hoverValue: PropTypes.any,\r\n    mode: PropTypes.arrayOf(PropTypes.oneOf(['time', 'date', 'month', 'year', 'decade'])),\r\n    showDateInput: PropTypes.bool.def(true),\r\n    timePicker: PropTypes.any,\r\n    showOk: PropTypes.bool,\r\n    showToday: PropTypes.bool.def(true),\r\n    defaultSelectedValue: PropTypes.array.def([]),\r\n    selectedValue: PropTypes.array,\r\n    showClear: PropTypes.bool,\r\n    showWeekNumber: PropTypes.bool,\r\n    // locale: PropTypes.object,\r\n    // onChange: PropTypes.func,\r\n    // onSelect: PropTypes.func,\r\n    // onValueChange: PropTypes.func,\r\n    // onHoverChange: PropTypes.func,\r\n    // onPanelChange: PropTypes.func,\r\n    format: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string), PropTypes.func]),\r\n    // onClear: PropTypes.func,\r\n    type: PropTypes.any.def('both'),\r\n    disabledDate: PropTypes.func,\r\n    disabledTime: PropTypes.func.def(noop),\r\n    renderFooter: PropTypes.func.def(function () {\r\n      return null;\r\n    }),\r\n    renderSidebar: PropTypes.func.def(function () {\r\n      return null;\r\n    }),\r\n    dateRender: PropTypes.func,\r\n    clearIcon: PropTypes.any,\r\n    inputReadOnly: PropTypes.bool\r\n  },\r\n\r\n  mixins: [BaseMixin, CommonMixin],\r\n\r\n  data: function data() {\r\n    var props = this.$props;\r\n    var selectedValue = props.selectedValue || props.defaultSelectedValue;\r\n    var value = normalizeAnchor(props, 1);\r\n    return {\r\n      sSelectedValue: selectedValue,\r\n      prevSelectedValue: selectedValue,\r\n      firstSelectedValue: null,\r\n      sHoverValue: props.hoverValue || [],\r\n      sValue: value,\r\n      sShowTimePicker: false,\r\n      sMode: props.mode || ['date', 'date'],\r\n      sPanelTriggerSource: '' // Trigger by which picker panel: 'start' & 'end'\r\n    };\r\n  },\r\n\r\n  watch: {\r\n    value: function value() {\r\n      var newState = {};\r\n      newState.sValue = normalizeAnchor(this.$props, 0);\r\n      this.setState(newState);\r\n    },\r\n    hoverValue: function hoverValue(val) {\r\n      if (!isArraysEqual(this.sHoverValue, val)) {\r\n        this.setState({ sHoverValue: val });\r\n      }\r\n    },\r\n    selectedValue: function selectedValue(val) {\r\n      var newState = {};\r\n      newState.sSelectedValue = val;\r\n      newState.prevSelectedValue = val;\r\n      this.setState(newState);\r\n    },\r\n    mode: function mode(val) {\r\n      if (!isArraysEqual(this.sMode, val)) {\r\n        this.setState({ sMode: val });\r\n      }\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    onDatePanelEnter: function onDatePanelEnter() {\r\n      if (this.hasSelectedValue()) {\r\n        this.fireHoverValueChange(this.sSelectedValue.concat());\r\n      }\r\n    },\r\n    onDatePanelLeave: function onDatePanelLeave() {\r\n      if (this.hasSelectedValue()) {\r\n        this.fireHoverValueChange([]);\r\n      }\r\n    },\r\n    onSelect: function onSelect(value) {\r\n      var type = this.type,\r\n          sSelectedValue = this.sSelectedValue,\r\n          prevSelectedValue = this.prevSelectedValue,\r\n          firstSelectedValue = this.firstSelectedValue;\r\n\r\n      var nextSelectedValue = void 0;\r\n      if (type === 'both') {\r\n        if (!firstSelectedValue) {\r\n          syncTime(prevSelectedValue[0], value);\r\n          nextSelectedValue = [value];\r\n        } else if (this.compare(firstSelectedValue, value) < 0) {\r\n          syncTime(prevSelectedValue[1], value);\r\n          nextSelectedValue = [firstSelectedValue, value];\r\n        } else {\r\n          syncTime(prevSelectedValue[0], value);\r\n          syncTime(prevSelectedValue[1], firstSelectedValue);\r\n          nextSelectedValue = [value, firstSelectedValue];\r\n        }\r\n      } else if (type === 'start') {\r\n        syncTime(prevSelectedValue[0], value);\r\n        var endValue = sSelectedValue[1];\r\n        nextSelectedValue = endValue && this.compare(endValue, value) > 0 ? [value, endValue] : [value];\r\n      } else {\r\n        // type === 'end'\r\n        var startValue = sSelectedValue[0];\r\n        if (startValue && this.compare(startValue, value) <= 0) {\r\n          syncTime(prevSelectedValue[1], value);\r\n          nextSelectedValue = [startValue, value];\r\n        } else {\r\n          syncTime(prevSelectedValue[0], value);\r\n          nextSelectedValue = [value];\r\n        }\r\n      }\r\n\r\n      this.fireSelectValueChange(nextSelectedValue);\r\n    },\r\n    onKeyDown: function onKeyDown(event) {\r\n      var _this = this;\r\n\r\n      if (event.target.nodeName.toLowerCase() === 'input') {\r\n        return;\r\n      }\r\n\r\n      var keyCode = event.keyCode;\r\n\r\n      var ctrlKey = event.ctrlKey || event.metaKey;\r\n\r\n      var _$data = this.$data,\r\n          selectedValue = _$data.sSelectedValue,\r\n          hoverValue = _$data.sHoverValue,\r\n          firstSelectedValue = _$data.firstSelectedValue,\r\n          value = _$data.sValue;\r\n      var disabledDate = this.$props.disabledDate;\r\n\r\n      // Update last time of the picker\r\n\r\n      var updateHoverPoint = function updateHoverPoint(func) {\r\n        // Change hover to make focus in UI\r\n        var currentHoverTime = void 0;\r\n        var nextHoverTime = void 0;\r\n        var nextHoverValue = void 0;\r\n\r\n        if (!firstSelectedValue) {\r\n          currentHoverTime = hoverValue[0] || selectedValue[0] || value[0] || moment();\r\n          nextHoverTime = func(currentHoverTime);\r\n          nextHoverValue = [nextHoverTime];\r\n          _this.fireHoverValueChange(nextHoverValue);\r\n        } else {\r\n          if (hoverValue.length === 1) {\r\n            currentHoverTime = hoverValue[0].clone();\r\n            nextHoverTime = func(currentHoverTime);\r\n            nextHoverValue = _this.onDayHover(nextHoverTime);\r\n          } else {\r\n            currentHoverTime = hoverValue[0].isSame(firstSelectedValue, 'day') ? hoverValue[1] : hoverValue[0];\r\n            nextHoverTime = func(currentHoverTime);\r\n            nextHoverValue = _this.onDayHover(nextHoverTime);\r\n          }\r\n        }\r\n\r\n        // Find origin hover time on value index\r\n        if (nextHoverValue.length >= 2) {\r\n          var miss = nextHoverValue.some(function (ht) {\r\n            return !includesTime(value, ht, 'month');\r\n          });\r\n          if (miss) {\r\n            var newValue = nextHoverValue.slice().sort(function (t1, t2) {\r\n              return t1.valueOf() - t2.valueOf();\r\n            });\r\n            if (newValue[0].isSame(newValue[1], 'month')) {\r\n              newValue[1] = newValue[0].clone().add(1, 'month');\r\n            }\r\n            _this.fireValueChange(newValue);\r\n          }\r\n        } else if (nextHoverValue.length === 1) {\r\n          // If only one value, let's keep the origin panel\r\n          var oriValueIndex = value.findIndex(function (time) {\r\n            return time.isSame(currentHoverTime, 'month');\r\n          });\r\n          if (oriValueIndex === -1) oriValueIndex = 0;\r\n\r\n          if (value.every(function (time) {\r\n            return !time.isSame(nextHoverTime, 'month');\r\n          })) {\r\n            var _newValue = value.slice();\r\n            _newValue[oriValueIndex] = nextHoverTime.clone();\r\n            _this.fireValueChange(_newValue);\r\n          }\r\n        }\r\n\r\n        event.preventDefault();\r\n\r\n        return nextHoverTime;\r\n      };\r\n\r\n      switch (keyCode) {\r\n        case KeyCode.DOWN:\r\n          updateHoverPoint(function (time) {\r\n            return goTime(time, 1, 'weeks');\r\n          });\r\n          return;\r\n        case KeyCode.UP:\r\n          updateHoverPoint(function (time) {\r\n            return goTime(time, -1, 'weeks');\r\n          });\r\n          return;\r\n        case KeyCode.LEFT:\r\n          if (ctrlKey) {\r\n            updateHoverPoint(function (time) {\r\n              return goTime(time, -1, 'years');\r\n            });\r\n          } else {\r\n            updateHoverPoint(function (time) {\r\n              return goTime(time, -1, 'days');\r\n            });\r\n          }\r\n          return;\r\n        case KeyCode.RIGHT:\r\n          if (ctrlKey) {\r\n            updateHoverPoint(function (time) {\r\n              return goTime(time, 1, 'years');\r\n            });\r\n          } else {\r\n            updateHoverPoint(function (time) {\r\n              return goTime(time, 1, 'days');\r\n            });\r\n          }\r\n          return;\r\n        case KeyCode.HOME:\r\n          updateHoverPoint(function (time) {\r\n            return goStartMonth(time);\r\n          });\r\n          return;\r\n        case KeyCode.END:\r\n          updateHoverPoint(function (time) {\r\n            return goEndMonth(time);\r\n          });\r\n          return;\r\n        case KeyCode.PAGE_DOWN:\r\n          updateHoverPoint(function (time) {\r\n            return goTime(time, 1, 'month');\r\n          });\r\n          return;\r\n        case KeyCode.PAGE_UP:\r\n          updateHoverPoint(function (time) {\r\n            return goTime(time, -1, 'month');\r\n          });\r\n          return;\r\n        case KeyCode.ENTER:\r\n          {\r\n            var lastValue = void 0;\r\n            if (hoverValue.length === 0) {\r\n              lastValue = updateHoverPoint(function (time) {\r\n                return time;\r\n              });\r\n            } else if (hoverValue.length === 1) {\r\n              lastValue = hoverValue[0];\r\n            } else {\r\n              lastValue = hoverValue[0].isSame(firstSelectedValue, 'day') ? hoverValue[1] : hoverValue[0];\r\n            }\r\n            if (lastValue && (!disabledDate || !disabledDate(lastValue))) {\r\n              this.onSelect(lastValue);\r\n            }\r\n            event.preventDefault();\r\n            return;\r\n          }\r\n        default:\r\n          this.__emit('keydown', event);\r\n      }\r\n    },\r\n    onDayHover: function onDayHover(value) {\r\n      var hoverValue = [];\r\n      var sSelectedValue = this.sSelectedValue,\r\n          firstSelectedValue = this.firstSelectedValue,\r\n          type = this.type;\r\n\r\n      if (type === 'start' && sSelectedValue[1]) {\r\n        hoverValue = this.compare(value, sSelectedValue[1]) < 0 ? [value, sSelectedValue[1]] : [value];\r\n      } else if (type === 'end' && sSelectedValue[0]) {\r\n        hoverValue = this.compare(value, sSelectedValue[0]) > 0 ? [sSelectedValue[0], value] : [];\r\n      } else {\r\n        if (!firstSelectedValue) {\r\n          if (this.sHoverValue.length) {\r\n            this.setState({ sHoverValue: [] });\r\n          }\r\n          return hoverValue;\r\n        }\r\n        hoverValue = this.compare(value, firstSelectedValue) < 0 ? [value, firstSelectedValue] : [firstSelectedValue, value];\r\n      }\r\n      this.fireHoverValueChange(hoverValue);\r\n      return hoverValue;\r\n    },\r\n    onToday: function onToday() {\r\n      var startValue = getTodayTime(this.sValue[0]);\r\n      var endValue = startValue.clone().add(1, 'months');\r\n      this.setState({ sValue: [startValue, endValue] });\r\n    },\r\n    onOpenTimePicker: function onOpenTimePicker() {\r\n      this.setState({\r\n        sShowTimePicker: true\r\n      });\r\n    },\r\n    onCloseTimePicker: function onCloseTimePicker() {\r\n      this.setState({\r\n        sShowTimePicker: false\r\n      });\r\n    },\r\n    onOk: function onOk() {\r\n      var sSelectedValue = this.sSelectedValue;\r\n\r\n      if (this.isAllowedDateAndTime(sSelectedValue)) {\r\n        this.__emit('ok', sSelectedValue);\r\n      }\r\n    },\r\n    onStartInputChange: function onStartInputChange() {\r\n      for (var _len = arguments.length, oargs = Array(_len), _key = 0; _key < _len; _key++) {\r\n        oargs[_key] = arguments[_key];\r\n      }\r\n\r\n      var args = ['left'].concat(oargs);\r\n      return onInputSelect.apply(this, args);\r\n    },\r\n    onEndInputChange: function onEndInputChange() {\r\n      for (var _len2 = arguments.length, oargs = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\r\n        oargs[_key2] = arguments[_key2];\r\n      }\r\n\r\n      var args = ['right'].concat(oargs);\r\n      return onInputSelect.apply(this, args);\r\n    },\r\n    onStartInputSelect: function onStartInputSelect(value) {\r\n      var args = ['left', value, { source: 'dateInputSelect' }];\r\n      return onInputSelect.apply(this, args);\r\n    },\r\n    onEndInputSelect: function onEndInputSelect(value) {\r\n      var args = ['right', value, { source: 'dateInputSelect' }];\r\n      return onInputSelect.apply(this, args);\r\n    },\r\n    onStartValueChange: function onStartValueChange(leftValue) {\r\n      var value = [].concat(_toConsumableArray(this.sValue));\r\n      value[0] = leftValue;\r\n      return this.fireValueChange(value);\r\n    },\r\n    onEndValueChange: function onEndValueChange(rightValue) {\r\n      var value = [].concat(_toConsumableArray(this.sValue));\r\n      value[1] = rightValue;\r\n      return this.fireValueChange(value);\r\n    },\r\n    onStartPanelChange: function onStartPanelChange(value, mode) {\r\n      var sMode = this.sMode,\r\n          sValue = this.sValue;\r\n\r\n      var newMode = [mode, sMode[1]];\r\n      var newValue = [value || sValue[0], sValue[1]];\r\n      this.__emit('panelChange', newValue, newMode);\r\n      var newState = {\r\n        sPanelTriggerSource: 'start'\r\n      };\r\n      if (!hasProp(this, 'mode')) {\r\n        newState.sMode = newMode;\r\n      }\r\n      this.setState(newState);\r\n    },\r\n    onEndPanelChange: function onEndPanelChange(value, mode) {\r\n      var sMode = this.sMode,\r\n          sValue = this.sValue;\r\n\r\n      var newMode = [sMode[0], mode];\r\n      var newValue = [sValue[0], value || sValue[1]];\r\n      this.__emit('panelChange', newValue, newMode);\r\n      var newState = {\r\n        sPanelTriggerSource: 'end'\r\n      };\r\n      if (!hasProp(this, 'mode')) {\r\n        newState.sMode = newMode;\r\n      }\r\n      this.setState(newState);\r\n    },\r\n    getStartValue: function getStartValue() {\r\n      var _$data2 = this.$data,\r\n          selectedValue = _$data2.sSelectedValue,\r\n          showTimePicker = _$data2.sShowTimePicker,\r\n          value = _$data2.sValue,\r\n          mode = _$data2.sMode,\r\n          panelTriggerSource = _$data2.sPanelTriggerSource;\r\n\r\n      var startValue = value[0];\r\n      // keep selectedTime when select date\r\n      if (selectedValue[0] && this.$props.timePicker) {\r\n        startValue = startValue.clone();\r\n        syncTime(selectedValue[0], startValue);\r\n      }\r\n      if (showTimePicker && selectedValue[0]) {\r\n        startValue = selectedValue[0];\r\n      }\r\n\r\n      // Adjust month if date not align\r\n      if (panelTriggerSource === 'end' && mode[0] === 'date' && mode[1] === 'date' && startValue.isSame(value[1], 'month')) {\r\n        startValue = startValue.clone().subtract(1, 'month');\r\n      }\r\n\r\n      return startValue;\r\n    },\r\n    getEndValue: function getEndValue() {\r\n      var _$data3 = this.$data,\r\n          selectedValue = _$data3.sSelectedValue,\r\n          showTimePicker = _$data3.sShowTimePicker,\r\n          value = _$data3.sValue,\r\n          mode = _$data3.sMode,\r\n          panelTriggerSource = _$data3.sPanelTriggerSource;\r\n\r\n      var endValue = value[1] ? value[1].clone() : value[0].clone().add(1, 'month');\r\n      // keep selectedTime when select date\r\n      if (selectedValue[1] && this.$props.timePicker) {\r\n        syncTime(selectedValue[1], endValue);\r\n      }\r\n      if (showTimePicker) {\r\n        endValue = selectedValue[1] ? selectedValue[1] : this.getStartValue();\r\n      }\r\n\r\n      // Adjust month if date not align\r\n      if (!showTimePicker && panelTriggerSource !== 'end' && mode[0] === 'date' && mode[1] === 'date' && endValue.isSame(value[0], 'month')) {\r\n        endValue = endValue.clone().add(1, 'month');\r\n      }\r\n\r\n      return endValue;\r\n    },\r\n\r\n    // get disabled hours for second picker\r\n    getEndDisableTime: function getEndDisableTime() {\r\n      var sSelectedValue = this.sSelectedValue,\r\n          sValue = this.sValue,\r\n          disabledTime = this.disabledTime;\r\n\r\n      var userSettingDisabledTime = disabledTime(sSelectedValue, 'end') || {};\r\n      var startValue = sSelectedValue && sSelectedValue[0] || sValue[0].clone();\r\n      // if startTime and endTime is same day..\r\n      // the second time picker will not able to pick time before first time picker\r\n      if (!sSelectedValue[1] || startValue.isSame(sSelectedValue[1], 'day')) {\r\n        var hours = startValue.hour();\r\n        var minutes = startValue.minute();\r\n        var second = startValue.second();\r\n        var _disabledHours = userSettingDisabledTime.disabledHours,\r\n            _disabledMinutes = userSettingDisabledTime.disabledMinutes,\r\n            _disabledSeconds = userSettingDisabledTime.disabledSeconds;\r\n\r\n        var oldDisabledMinutes = _disabledMinutes ? _disabledMinutes() : [];\r\n        var olddisabledSeconds = _disabledSeconds ? _disabledSeconds() : [];\r\n        _disabledHours = generateOptions(hours, _disabledHours);\r\n        _disabledMinutes = generateOptions(minutes, _disabledMinutes);\r\n        _disabledSeconds = generateOptions(second, _disabledSeconds);\r\n        return {\r\n          disabledHours: function disabledHours() {\r\n            return _disabledHours;\r\n          },\r\n          disabledMinutes: function disabledMinutes(hour) {\r\n            if (hour === hours) {\r\n              return _disabledMinutes;\r\n            }\r\n            return oldDisabledMinutes;\r\n          },\r\n          disabledSeconds: function disabledSeconds(hour, minute) {\r\n            if (hour === hours && minute === minutes) {\r\n              return _disabledSeconds;\r\n            }\r\n            return olddisabledSeconds;\r\n          }\r\n        };\r\n      }\r\n      return userSettingDisabledTime;\r\n    },\r\n    isAllowedDateAndTime: function isAllowedDateAndTime(selectedValue) {\r\n      return isAllowedDate(selectedValue[0], this.disabledDate, this.disabledStartTime) && isAllowedDate(selectedValue[1], this.disabledDate, this.disabledEndTime);\r\n    },\r\n    isMonthYearPanelShow: function isMonthYearPanelShow(mode) {\r\n      return ['month', 'year', 'decade'].indexOf(mode) > -1;\r\n    },\r\n    hasSelectedValue: function hasSelectedValue() {\r\n      var sSelectedValue = this.sSelectedValue;\r\n\r\n      return !!sSelectedValue[1] && !!sSelectedValue[0];\r\n    },\r\n    compare: function compare(v1, v2) {\r\n      if (this.timePicker) {\r\n        return v1.diff(v2);\r\n      }\r\n      return v1.diff(v2, 'days');\r\n    },\r\n    fireSelectValueChange: function fireSelectValueChange(selectedValue, direct, cause) {\r\n      var timePicker = this.timePicker,\r\n          prevSelectedValue = this.prevSelectedValue;\r\n\r\n      if (timePicker) {\r\n        var timePickerProps = getOptionProps(timePicker);\r\n        if (timePickerProps.defaultValue) {\r\n          var timePickerDefaultValue = timePickerProps.defaultValue;\r\n          if (!prevSelectedValue[0] && selectedValue[0]) {\r\n            syncTime(timePickerDefaultValue[0], selectedValue[0]);\r\n          }\r\n          if (!prevSelectedValue[1] && selectedValue[1]) {\r\n            syncTime(timePickerDefaultValue[1], selectedValue[1]);\r\n          }\r\n        }\r\n      }\r\n      // 尚未选择过时间，直接输入的话\r\n      if (!this.sSelectedValue[0] || !this.sSelectedValue[1]) {\r\n        var startValue = selectedValue[0] || moment();\r\n        var endValue = selectedValue[1] || startValue.clone().add(1, 'months');\r\n        this.setState({\r\n          sSelectedValue: selectedValue,\r\n          sValue: selectedValue && selectedValue.length === 2 ? getValueFromSelectedValue([startValue, endValue]) : this.sValue\r\n        });\r\n      }\r\n\r\n      if (selectedValue[0] && !selectedValue[1]) {\r\n        this.setState({ firstSelectedValue: selectedValue[0] });\r\n        this.fireHoverValueChange(selectedValue.concat());\r\n      }\r\n      this.__emit('change', selectedValue);\r\n      if (direct || selectedValue[0] && selectedValue[1]) {\r\n        this.setState({\r\n          prevSelectedValue: selectedValue,\r\n          firstSelectedValue: null\r\n        });\r\n        this.fireHoverValueChange([]);\r\n        this.__emit('select', selectedValue, cause);\r\n      }\r\n      if (!hasProp(this, 'selectedValue')) {\r\n        this.setState({\r\n          sSelectedValue: selectedValue\r\n        });\r\n      }\r\n    },\r\n    fireValueChange: function fireValueChange(value) {\r\n      if (!hasProp(this, 'value')) {\r\n        this.setState({\r\n          sValue: value\r\n        });\r\n      }\r\n      this.__emit('valueChange', value);\r\n    },\r\n    fireHoverValueChange: function fireHoverValueChange(hoverValue) {\r\n      if (!hasProp(this, 'hoverValue')) {\r\n        this.setState({ sHoverValue: hoverValue });\r\n      }\r\n      this.__emit('hoverChange', hoverValue);\r\n    },\r\n    clear: function clear() {\r\n      this.fireSelectValueChange([], true);\r\n      this.__emit('clear');\r\n    },\r\n    disabledStartTime: function disabledStartTime(time) {\r\n      return this.disabledTime(time, 'start');\r\n    },\r\n    disabledEndTime: function disabledEndTime(time) {\r\n      return this.disabledTime(time, 'end');\r\n    },\r\n    disabledStartMonth: function disabledStartMonth(month) {\r\n      var sValue = this.sValue;\r\n\r\n      return month.isAfter(sValue[1], 'month');\r\n    },\r\n    disabledEndMonth: function disabledEndMonth(month) {\r\n      var sValue = this.sValue;\r\n\r\n      return month.isBefore(sValue[0], 'month');\r\n    }\r\n  },\r\n\r\n  render: function render() {\r\n    var _className, _cls;\r\n\r\n    var h = arguments[0];\r\n\r\n    var props = getOptionProps(this);\r\n    var prefixCls = props.prefixCls,\r\n        dateInputPlaceholder = props.dateInputPlaceholder,\r\n        timePicker = props.timePicker,\r\n        showOk = props.showOk,\r\n        locale = props.locale,\r\n        showClear = props.showClear,\r\n        showToday = props.showToday,\r\n        type = props.type,\r\n        seperator = props.seperator;\r\n\r\n    var clearIcon = getComponentFromProp(this, 'clearIcon');\r\n    var sHoverValue = this.sHoverValue,\r\n        sSelectedValue = this.sSelectedValue,\r\n        mode = this.sMode,\r\n        sShowTimePicker = this.sShowTimePicker,\r\n        sValue = this.sValue;\r\n\r\n    var className = (_className = {}, _defineProperty(_className, prefixCls, 1), _defineProperty(_className, prefixCls + '-hidden', !props.visible), _defineProperty(_className, prefixCls + '-range', 1), _defineProperty(_className, prefixCls + '-show-time-picker', sShowTimePicker), _defineProperty(_className, prefixCls + '-week-number', props.showWeekNumber), _className);\r\n    var baseProps = {\r\n      props: props,\r\n      on: getListeners(this)\r\n    };\r\n    var newProps = {\r\n      props: {\r\n        selectedValue: sSelectedValue\r\n      },\r\n      on: {\r\n        select: this.onSelect,\r\n        dayHover: type === 'start' && sSelectedValue[1] || type === 'end' && sSelectedValue[0] || !!sHoverValue.length ? this.onDayHover : noop\r\n      }\r\n    };\r\n\r\n    var placeholder1 = void 0;\r\n    var placeholder2 = void 0;\r\n\r\n    if (dateInputPlaceholder) {\r\n      if (Array.isArray(dateInputPlaceholder)) {\r\n        var _dateInputPlaceholder = _slicedToArray(dateInputPlaceholder, 2);\r\n\r\n        placeholder1 = _dateInputPlaceholder[0];\r\n        placeholder2 = _dateInputPlaceholder[1];\r\n      } else {\r\n        placeholder1 = placeholder2 = dateInputPlaceholder;\r\n      }\r\n    }\r\n    var showOkButton = showOk === true || showOk !== false && !!timePicker;\r\n    var cls = (_cls = {}, _defineProperty(_cls, prefixCls + '-footer', true), _defineProperty(_cls, prefixCls + '-range-bottom', true), _defineProperty(_cls, prefixCls + '-footer-show-ok', showOkButton), _cls);\r\n\r\n    var startValue = this.getStartValue();\r\n    var endValue = this.getEndValue();\r\n    var todayTime = getTodayTime(startValue);\r\n    var thisMonth = todayTime.month();\r\n    var thisYear = todayTime.year();\r\n    var isTodayInView = startValue.year() === thisYear && startValue.month() === thisMonth || endValue.year() === thisYear && endValue.month() === thisMonth;\r\n    var nextMonthOfStart = startValue.clone().add(1, 'months');\r\n    var isClosestMonths = nextMonthOfStart.year() === endValue.year() && nextMonthOfStart.month() === endValue.month();\r\n    var leftPartProps = mergeProps(baseProps, newProps, {\r\n      props: {\r\n        hoverValue: sHoverValue,\r\n        direction: 'left',\r\n        disabledTime: this.disabledStartTime,\r\n        disabledMonth: this.disabledStartMonth,\r\n        format: this.getFormat(),\r\n        value: startValue,\r\n        mode: mode[0],\r\n        placeholder: placeholder1,\r\n        showDateInput: this.showDateInput,\r\n        timePicker: timePicker,\r\n        showTimePicker: sShowTimePicker || mode[0] === 'time',\r\n        enablePrev: true,\r\n        enableNext: !isClosestMonths || this.isMonthYearPanelShow(mode[1]),\r\n        clearIcon: clearIcon\r\n      },\r\n      on: {\r\n        inputChange: this.onStartInputChange,\r\n        inputSelect: this.onStartInputSelect,\r\n        valueChange: this.onStartValueChange,\r\n        panelChange: this.onStartPanelChange\r\n      }\r\n    });\r\n    var rightPartProps = mergeProps(baseProps, newProps, {\r\n      props: {\r\n        hoverValue: sHoverValue,\r\n        direction: 'right',\r\n        format: this.getFormat(),\r\n        timePickerDisabledTime: this.getEndDisableTime(),\r\n        placeholder: placeholder2,\r\n        value: endValue,\r\n        mode: mode[1],\r\n        showDateInput: this.showDateInput,\r\n        timePicker: timePicker,\r\n        showTimePicker: sShowTimePicker || mode[1] === 'time',\r\n        disabledTime: this.disabledEndTime,\r\n        disabledMonth: this.disabledEndMonth,\r\n        enablePrev: !isClosestMonths || this.isMonthYearPanelShow(mode[0]),\r\n        enableNext: true,\r\n        clearIcon: clearIcon\r\n      },\r\n      on: {\r\n        inputChange: this.onEndInputChange,\r\n        inputSelect: this.onEndInputSelect,\r\n        valueChange: this.onEndValueChange,\r\n        panelChange: this.onEndPanelChange\r\n      }\r\n    });\r\n    var TodayButtonNode = null;\r\n    if (showToday) {\r\n      var todayButtonProps = mergeProps(baseProps, {\r\n        props: {\r\n          disabled: isTodayInView,\r\n          value: sValue[0],\r\n          text: locale.backToToday\r\n        },\r\n        on: {\r\n          today: this.onToday\r\n        }\r\n      });\r\n      TodayButtonNode = h(TodayButton, _mergeJSXProps([{ key: 'todayButton' }, todayButtonProps]));\r\n    }\r\n\r\n    var TimePickerButtonNode = null;\r\n    if (props.timePicker) {\r\n      var timePickerButtonProps = mergeProps(baseProps, {\r\n        props: {\r\n          showTimePicker: sShowTimePicker || mode[0] === 'time' && mode[1] === 'time',\r\n          timePickerDisabled: !this.hasSelectedValue() || sHoverValue.length\r\n        },\r\n        on: {\r\n          openTimePicker: this.onOpenTimePicker,\r\n          closeTimePicker: this.onCloseTimePicker\r\n        }\r\n      });\r\n      TimePickerButtonNode = h(TimePickerButton, _mergeJSXProps([{ key: 'timePickerButton' }, timePickerButtonProps]));\r\n    }\r\n\r\n    var OkButtonNode = null;\r\n    if (showOkButton) {\r\n      var okButtonProps = mergeProps(baseProps, {\r\n        props: {\r\n          okDisabled: !this.isAllowedDateAndTime(sSelectedValue) || !this.hasSelectedValue() || sHoverValue.length\r\n        },\r\n        on: {\r\n          ok: this.onOk\r\n        }\r\n      });\r\n      OkButtonNode = h(OkButton, _mergeJSXProps([{ key: 'okButtonNode' }, okButtonProps]));\r\n    }\r\n    var extraFooter = this.renderFooter(mode);\r\n    return h(\r\n      'div',\r\n      { ref: 'rootInstance', 'class': className, attrs: { tabIndex: '0' },\r\n        on: {\r\n          'keydown': this.onKeyDown\r\n        }\r\n      },\r\n      [props.renderSidebar(), h(\r\n        'div',\r\n        { 'class': prefixCls + '-panel' },\r\n        [showClear && sSelectedValue[0] && sSelectedValue[1] ? h(\r\n          'a',\r\n          {\r\n            attrs: { role: 'button', title: locale.clear },\r\n            on: {\r\n              'click': this.clear\r\n            }\r\n          },\r\n          [clearIcon || h('span', { 'class': prefixCls + '-clear-btn' })]\r\n        ) : null, h(\r\n          'div',\r\n          {\r\n            'class': prefixCls + '-date-panel',\r\n            on: {\r\n              'mouseleave': type !== 'both' ? this.onDatePanelLeave : noop,\r\n              'mouseenter': type !== 'both' ? this.onDatePanelEnter : noop\r\n            }\r\n          },\r\n          [h(CalendarPart, leftPartProps), h(\r\n            'span',\r\n            { 'class': prefixCls + '-range-middle' },\r\n            [seperator]\r\n          ), h(CalendarPart, rightPartProps)]\r\n        ), h(\r\n          'div',\r\n          { 'class': cls },\r\n          [showToday || props.timePicker || showOkButton || extraFooter ? h(\r\n            'div',\r\n            { 'class': prefixCls + '-footer-btn' },\r\n            [extraFooter, TodayButtonNode, TimePickerButtonNode, OkButtonNode]\r\n          ) : null]\r\n        )]\r\n      )]\r\n    );\r\n  }\r\n};\r\n\r\nexport default RangeCalendar;"],"mappings":"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"},"metadata":{},"sourceType":"module"}