{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport router from '@/router';\nimport axios from \"axios\";\nconst listData = [];\nconst time = 1;\nconst data1 = [];\nexport default {\n  data() {\n    return {\n      testt: this.$route.params.id,\n      urls: [{\n        url: require('../assets/1.jpg')\n      }, {\n        url: require('../assets/2.jpg')\n      }, {\n        url: require('../assets/3.jpg')\n      }],\n      writer: {\n        user_Id: ''\n      },\n      data1,\n      time,\n      listData,\n      title: [],\n      pagination: {\n        onChange: page => {\n          console.log(page);\n        },\n        pageSize: 3\n      },\n      actions: [{\n        type: 'star-o',\n        text: '156'\n      }, {\n        type: 'like-o',\n        text: '156'\n      }, {\n        type: 'message',\n        text: '2'\n      }]\n    };\n  },\n\n  methods: {\n    test() {\n      console.log(this.testt);\n    },\n\n    jumpToArticle(title) {\n      router.push({\n        path: '/article/' + title\n      });\n    },\n\n    jumpToPerson(n) {\n      router.push({\n        name: 'person',\n        params: {\n          user_name: n\n        }\n      });\n    }\n\n  },\n  beforeCreate: function () {\n    if (listData.length < 3) {\n      let url1 = 'http://localhost:8082/popularWorks';\n      let url2 = 'http://localhost:8082/findByID';\n      let url3 = 'http://localhost:8082/findPopular';\n      let path = '';\n      axios.post(url1).then(res => {\n        console.log(res.data);\n        listData.splice(0, listData.length);\n\n        for (let i = 0; i < 3; i++) {\n          this.writer.user_Id = res.data[i].writer_id;\n          axios.post(url2, this.writer).then(res1 => {\n            console.log(res1.data);\n            path = res1.data.photo_file;\n            console.log(path);\n            listData.push({\n              href: res.data[i].article_id,\n              title: res.data[i].article_title,\n              description: res.data[i].topic,\n              content: res.data[i].article_introduction,\n              avatar: require('/src/images/' + path) //本地用户头像地址\n\n            });\n          });\n        }\n      });\n      axios.post(url3).then(res3 => {\n        console.log(res3.data);\n        data1.splice(0, data1.length);\n\n        for (let i = 0; i < 5; i++) {\n          path = res3.data[i].photo_file;\n          console.log(res3.data[i].user_name);\n          data1.push({\n            title: res3.data[i].user_name,\n            description: res3.data[i].about,\n            avatar: require('/src/images/' + path) //本地用户头像地址\n\n          });\n        }\n      });\n      this.time = this.time + 1;\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyKA;AACA;AAEA;AACA;AACA;AACA;EACAA;IACA;MACAC,4BADA;MAEAC,OACA;QAAAC;MAAA,CADA,EAEA;QAAAA;MAAA,CAFA,EAGA;QAAAA;MAAA,CAHA,CAFA;MAOAC;QACAC;MADA,CAPA;MAUAC,KAVA;MAWAC,IAXA;MAYAC,QAZA;MAaAC,SAbA;MAcAC;QACAC;UACAC;QACA,CAHA;QAIAC;MAJA,CAdA;MAoBAC,UACA;QAAAC;QAAAC;MAAA,CADA,EAEA;QAAAD;QAAAC;MAAA,CAFA,EAGA;QAAAD;QAAAC;MAAA,CAHA;IApBA;EA2BA,CA7BA;;EA8BAC;IACAC;MACAN;IACA,CAHA;;IAIAO;MACAC;QAAAC;MAAA;IACA,CANA;;IAOAC;MACAF;QAAAG;QAAAC;UAAAC;QAAA;MAAA;IACA;;EATA,CA9BA;EA0CAC;IACA;MACA;MACA;MACA;MACA;MACAC;QACAf;QACAJ;;QACA;UACA;UACAmB;YACAf;YACAS;YACAT;YACAJ;cACAoB,4BADA;cAEAnB,gCAFA;cAGAoB,8BAHA;cAIAC,yCAJA;cAKAC,sCALA,CAKA;;YALA;UAOA,CAXA;QAYA;MACA,CAlBA;MAmBAJ;QACAf;QACAN;;QACA;UACAe;UACAT;UACAN;YACAG,6BADA;YAEAoB,+BAFA;YAGAE,sCAHA,CAGA;;UAHA;QAKA;MAEA,CAbA;MAcA;IACA;EACA;AAnFA","names":["data","testt","urls","url","writer","user_Id","data1","time","listData","title","pagination","onChange","console","pageSize","actions","type","text","methods","test","jumpToArticle","router","path","jumpToPerson","name","params","user_name","beforeCreate","axios","href","description","content","avatar"],"sourceRoot":"src/components","sources":["mainPage.vue"],"sourcesContent":["<template>\r\n  <div id=\"components-layout-demo-basic\">\r\n  <a-layout>\r\n    <a-layout>\r\n   \r\n      <a-layout-header style=\"height: 20vw;margin:30px 6%\">\r\n        <div style=\"height: 20vw;margin-top: 0px\">\r\n          <el-carousel :interval=\"4000\" type=\"card\" height=\"18vw\" arrow=\"never\" >\r\n          <el-carousel-item v-for=\"(item, index) in urls\" :key=\"index\">\r\n          <img v-bind:src=\"item.url\" style=\"width: 100%;height: 100%\">\r\n          </el-carousel-item>\r\n          </el-carousel>\r\n        </div>\r\n      </a-layout-header>\r\n\r\n    <a-layout-content style=\"margin:0 6%\">\r\n\r\n    <div>\r\n      <div style=\"background:rgb(151, 214, 241); padding:30px\">\r\n    <a-card  :bordered=\"false\" style=\"width: 100%\" >\r\n      <div slot=\"title\" @click=\"test\"><a-icon type=\"fire\" />热门作品</div>\r\n    <a-list item-layout=\"vertical\" size=\"large\" :data-source=\"listData\">\r\n    <a-list-item slot=\"renderItem\" key=\"item.title\" slot-scope=\"item, index\">\r\n      <div v-for=\"{ type, text } in actions\" slot=\"actions\">\r\n        <span :key=\"type\">\r\n          <a-icon :type=\"type\" style=\"margin-right: 8px\" />\r\n          {{ text }}\r\n        </span>\r\n      </div>\r\n      <img\r\n        slot=\"extra\"\r\n        width=\"272\"\r\n        alt=\"logo\"\r\n        :src=\"item.avatar\"\r\n      />\r\n      <a-list-item-meta :description=\"item.description\">\r\n        <a slot=\"title\" :href=\"item.href\">{{ item.title }}</a>\r\n        <a-avatar slot=\"avatar\" :src=\"item.avatar\" />\r\n      </a-list-item-meta>\r\n      {{ item.content }}\r\n    </a-list-item>\r\n  </a-list>\r\n</a-card>\r\n  </div>\r\n</div>\r\n  \r\n    </a-layout-content>\r\n</a-layout>\r\n\r\n\r\n\r\n    <a-layout-sider width=\"450px\">\r\n      \r\n      <div style=\"width:100%;height: 500px; margin:100px 0\">\r\n\r\n        <div style=\"background:white; padding:30px\">\r\n    <a-card  :bordered=\"false\" style=\"width: 400px\" >\r\n      <div slot=\"title\"><a-icon type=\"like\" />热门作者</div>\r\n      <a-list item-layout=\"horizontal\" :data-source=\"data1\">\r\n    <a-list-item slot=\"renderItem\" slot-scope=\"item, index\">\r\n      <a-list-item-meta\r\n        :description=\"item.description\"\r\n      >\r\n        <a slot=\"title\" @click=\"jumpToPerson(item.title)\">{{ item.title }}</a>\r\n        <a-avatar\r\n          slot=\"avatar\"\r\n          :src=\"item.avatar\"\r\n        />\r\n      </a-list-item-meta>\r\n    </a-list-item>\r\n  </a-list>\r\n\r\n</a-card>\r\n  </div>\r\n\r\n\r\n\r\n</div>\r\n    </a-layout-sider>\r\n  </a-layout>\r\n  </div>\r\n  \r\n  </template>\r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  <style>\r\n\r\n    <!--主页和边框-->\r\n    #components-layout-demo-basic {\r\n  text-align: center;\r\n}\r\n#components-layout-demo-basic .ant-layout-header,\r\n#components-layout-demo-basic .ant-layout-footer {\r\n  background:rgb(151, 214, 241);\r\n  color: #fff;\r\n}\r\n#components-layout-demo-basic .ant-layout-footer {\r\n  line-height: 1.5;\r\n}\r\n#components-layout-demo-basic .ant-layout-sider {\r\n  background: white;\r\n  color: #fff;\r\n  line-height: 120px;\r\n}\r\n#components-layout-demo-basic .ant-layout-content {\r\n  background: rgb(151, 231, 240);\r\n  color: #fff;\r\n  min-height: 120px;\r\n  line-height: 120px;\r\n}\r\n#components-layout-demo-basic > .ant-layout {\r\n  margin-bottom: 48px;\r\n}\r\n#components-layout-demo-basic > .ant-layout:last-child {\r\n  margin: 0;\r\n}\r\n  \r\n  <!--边框中卡片-->\r\n    .text {\r\n      font-size: 14px;\r\n    }\r\n  \r\n    .item {\r\n      margin-bottom: 18px;\r\n    }\r\n  \r\n    .clearfix:before,\r\n    .clearfix:after {\r\n      display: table;\r\n      content: \"\";\r\n    }\r\n    .clearfix:after {\r\n      clear: both\r\n    }\r\n  \r\n    .box-card {\r\n      width: 480px;\r\n    }  \r\n    \r\n    \r\n\r\n    .el-carousel__item h3 {\r\n    color: #475669;\r\n    font-size: 14px;\r\n    opacity: 0.75;\r\n    line-height: 150px;\r\n    margin: 0;\r\n  }\r\n  <!--走马灯-->\r\n  .el-carousel__item:nth-child(2n) {\r\n     background-color: #99a9bf;\r\n  }\r\n  \r\n  .el-carousel__item:nth-child(2n+1) {\r\n     background-color: #d3dce6;\r\n  }\r\n\r\n    \r\n\r\n\r\n  </style>\r\n\r\n  <script>\r\n\r\nimport router from '@/router';\r\nimport axios from \"axios\";\r\n\r\n    const listData = [];\r\n    const time=1;\r\n    const data1 = [];\r\n    export default {\r\n      data() {\r\n        return {\r\n          testt:this.$route.params.id,\r\n          urls:[\r\n          {url:require('../assets/1.jpg')},\r\n          {url:require('../assets/2.jpg')},\r\n          {url:require('../assets/3.jpg')},\r\n          ],\r\n          writer:{\r\n            user_Id:''\r\n          },\r\n          data1,\r\n          time,\r\n          listData,\r\n          title:[],\r\n          pagination: {\r\n            onChange: page => {\r\n            console.log(page);\r\n            },\r\n            pageSize: 3,\r\n          },\r\n          actions: [\r\n            { type: 'star-o', text: '156' },\r\n            { type: 'like-o', text: '156' },\r\n            { type: 'message', text: '2' },\r\n          ],\r\n\r\n        }\r\n      },\r\n      methods:{\r\n        test(){\r\n          console.log(this.testt)\r\n        },\r\n        jumpToArticle(title){\r\n          router.push({ path: '/article/'+title});\r\n        },\r\n        jumpToPerson(n){\r\n          router.push({ name: 'person',params:{user_name:n}})\r\n        }\r\n\r\n      },\r\n      beforeCreate:function () {\r\n        if (listData.length < 3) {\r\n          let url1 = 'http://localhost:8082/popularWorks';\r\n          let url2 = 'http://localhost:8082/findByID';\r\n          let url3 = 'http://localhost:8082/findPopular'\r\n          let path = '';\r\n          axios.post(url1).then(res => {\r\n            console.log(res.data)\r\n            listData.splice(0, listData.length)\r\n            for (let i = 0; i < 3; i++) {\r\n              this.writer.user_Id = res.data[i].writer_id\r\n              axios.post(url2, this.writer).then(res1 => {\r\n                console.log(res1.data)\r\n                path = res1.data.photo_file\r\n                console.log(path)\r\n                listData.push({\r\n                  href: res.data[i].article_id,\r\n                  title: res.data[i].article_title,\r\n                  description: res.data[i].topic,\r\n                  content: res.data[i].article_introduction,\r\n                  avatar: require('/src/images/' + path),//本地用户头像地址\r\n                });\r\n              });\r\n            }\r\n          })\r\n          axios.post(url3).then(res3 => {\r\n            console.log(res3.data)\r\n            data1.splice(0, data1.length)\r\n            for (let i = 0; i < 5; i++) {\r\n              path = res3.data[i].photo_file\r\n              console.log(res3.data[i].user_name)\r\n              data1.push({\r\n                title: res3.data[i].user_name,\r\n                description: res3.data[i].about,\r\n                avatar: require('/src/images/' + path),//本地用户头像地址\r\n              });\r\n            }\r\n\r\n          })\r\n          this.time = this.time + 1\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n\r\n  </script>\r\n"]},"metadata":{},"sourceType":"module"}