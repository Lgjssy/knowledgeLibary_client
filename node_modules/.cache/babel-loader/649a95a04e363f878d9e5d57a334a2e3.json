{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nimport moment from 'moment';\nexport default {\n  name: 'DocxPreview',\n\n  data() {\n    return {\n      test1231: '',\n      ArticleTile: this.$route.params.id,\n      date: '',\n      Writer: '',\n      //文章内容：content\n      content: '',\n      text: '',\n      text2: '',\n      text3: '',\n      labelPosition: 'right',\n      formLabelAlign: {\n        name: '',\n        region: '',\n        type: '',\n        content: ''\n      },\n      data: [],\n      moment\n    };\n  },\n\n  methods: {\n    from() {\n      let url6 = 'http://localhost:8082/form';\n      axios.post(url6, {});\n    },\n\n    handleClose(done) {\n      done();\n    },\n\n    share() {\n      this.$confirm('此操作会将文章分享到个人动态页面, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'success'\n      }).then(() => {\n        this.$message({\n          type: 'success',\n          message: '分享成功!'\n        });\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: '已取消分享'\n        });\n      });\n    },\n\n    like() {\n      this.$message({\n        type: 'success',\n        message: '已点赞！'\n      });\n    },\n\n    submit() {\n      this.$message({\n        type: 'success',\n        message: '发表评论成功！'\n      });\n    },\n\n    cancle() {\n      this.$message({\n        type: 'info',\n        message: '已取消'\n      });\n    }\n\n  },\n  created: function () {\n    let url2 = 'http://localhost:8082/aboutArticle';\n    let url = 'http://localhost:8082/searchArticleByName3';\n    let url3 = 'http://localhost:8082/searchDiscuss';\n    let url4 = 'http://localhost:8082/showContent';\n    axios.post(url, {\n      ArticleTile: this.ArticleTile\n    }).then(res => {\n      console.log(res.data);\n      this.date = res.data.date;\n      this.Writer = res.data.writer_id;\n      axios.post(url2, {\n        article_id: res.data.article_id\n      }).then(res1 => {\n        this.text = res1.data.shares, this.text2 = res1.data.likes, this.text3 = res1.data.comment;\n      });\n    });\n    axios.post(url3, {\n      article_name: this.ArticleTile\n    }).then(res3 => {\n      console.log(res3.data);\n      this.data.splice(0, this.data.length);\n\n      for (let i = 0; i < res3.data.length; i++) {\n        this.data.push({\n          actions: ['Reply to'],\n          author: res3.data[i].user_id,\n          avatar: require('/src/images/' + res3.data[i].userPhoto),\n          content: res3.data[i].content,\n          datetime: moment().subtract(1, 'days')\n        });\n      }\n    });\n    axios.post(url4, {\n      article_name: this.ArticleTile\n    }).then(res4 => {\n      console.log(res4.data.content);\n      this.content = res4.data.content;\n    });\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiEA;AACA;AACA;EACAA,mBADA;;EAEAC;IACA;MACAC,YADA;MAEAC,kCAFA;MAGAC,QAHA;MAIAC,UAJA;MAKA;MACAC,WANA;MAOAC,QAPA;MAQAC,SARA;MASAC,SATA;MAUAC,sBAVA;MAWAC;QACAX,QADA;QAEAY,UAFA;QAGAC,QAHA;QAIAP;MAJA,CAXA;MAiBAL,QAjBA;MAkBAa;IAlBA;EAoBA,CAvBA;;EAwBAC;IACAC;MACA;MACAC;IACA,CAJA;;IAKAC;MACAC;IACA,CAPA;;IAQAC;MACA;QACAC,uBADA;QAEAC,sBAFA;QAGAT;MAHA,GAIAU,IAJA,CAIA;QACA;UACAV,eADA;UAEAW;QAFA;MAIA,CATA,EASAC,KATA,CASA;QACA;UACAZ,YADA;UAEAW;QAFA;MAIA,CAdA;IAeA,CAxBA;;IAyBAE;MACA;QACAb,eADA;QAEAW;MAFA;IAIA,CA9BA;;IA+BAG;MACA;QACAd,eADA;QAEAW;MAFA;IAIA,CApCA;;IAqCAI;MACA;QACAf,YADA;QAEAW;MAFA;IAIA;;EA1CA,CAxBA;EAsEAK;IACA;IACA;IACA;IACA;IACAZ;MAAAd;IAAA;MACA2B;MACA;MACA;MACAb;QAAAc;MAAA;QACA,8BACA,4BADA,EAEA,8BAFA;MAGA,CAJA;IAKA,CATA;IAUAd;MAAAe;IAAA;MACAF;MACA;;MACA;QACA;UACAG,qBADA;UAEAC,4BAFA;UAGAC,wDAHA;UAIA7B,6BAJA;UAMA8B;QANA;MAQA;IAEA,CAdA;IAeAnB;MAAAe;IAAA;MACAF;MACA;IAEA,CAJA;EAKA;AAzGA","names":["name","data","test1231","ArticleTile","date","Writer","content","text","text2","text3","labelPosition","formLabelAlign","region","type","moment","methods","from","axios","handleClose","done","share","confirmButtonText","cancelButtonText","then","message","catch","like","submit","cancle","created","console","article_id","article_name","actions","author","avatar","datetime"],"sourceRoot":"src/components","sources":["article.vue"],"sourcesContent":["<template >\r\n   <el-container style=\"height: 1500px;width: 1000px;margin: auto; \">\r\n    \r\n  <el-header style=\"background-color:aliceblue;height: 70px;\">\r\n    \r\n  <div style=\"height: 80px;width: 1000px;margin: 0 -20px; \">\r\n    <h1 style=\"margin: 20px 400px;font-size: 20px;\">{{ ArticleTile }} </h1>\r\n    <p style=\"margin: -20px 600px;height: 30px;width: 80px;\">{{Writer}}</p>\r\n    <p style=\"margin: -30px 800px;height: 30px;width: 80px;\">{{ date }}</p>\r\n    \r\n</div >\r\n\r\n\r\n</el-header>\r\n  <el-main style=\"height: 800px;\"><!--文章主体内容-->\r\n    <v-card-text v-html=\"content\"></v-card-text>\r\n</el-main>\r\n  <el-footer style=\"background-color:aliceblue;height: 60px;\">\r\n    <div style=\"height: 50px;width: 300px;margin: 10px 650px;\">\r\n    <el-button type=\"primary\" icon=\"el-icon-chat-dot-round\" @click=\"dialogVisible = true\">{{text3}}</el-button>\r\n    <el-button slot=\"reference\" type=\"success\" icon=\"el-icon-share\" @click=\"share\">{{ text }}</el-button>\r\n  <el-button type=\"danger\" icon=\"el-icon-lollipop\" @click=\"from\">{{ text2 }}</el-button>\r\n  \r\n    </div>\r\n    <el-dialog  title=\"发表评论\" :visible.sync=\"dialogVisible\" width=\"30%\"\r\n  :before-close=\"handleClose\"><!--评论弹窗-->\r\n    <el-input type=\"textarea\" v-model=\"formLabelAlign.content\" :rows=\"6\" placeholder=\"请友好发布评论\"></el-input>\r\n  <span slot=\"footer\" class=\"dialog-footer\">\r\n    <el-button @click=\"cancle();dialogVisible = false\">取 消</el-button>\r\n    <el-button type=\"primary\" @click=\"submit();dialogVisible = false\">发布</el-button>\r\n  </span>\r\n    </el-dialog>\r\n       \r\n    </el-footer>\r\n  <el-footer style=\"background-color:#f9f9f9;height: 570px;\">\r\n    <template>\r\n  <a-list\r\n    class=\"comment-list\"\r\n    :header=\"`${data.length} replies`\"\r\n    item-layout=\"horizontal\"\r\n    :data-source=\"data\"\r\n  >\r\n    <a-list-item slot=\"renderItem\" slot-scope=\"item, index\">\r\n      <a-comment :author=\"item.author\" :avatar=\"item.avatar\">\r\n        <template slot=\"actions\">\r\n          <span v-for=\"action in item.actions\">{{ action }}</span>\r\n        </template>\r\n        <p slot=\"content\">\r\n          {{ item.content }}\r\n        </p>\r\n        <a-tooltip slot=\"datetime\" :title=\"item.datetime.format('YYYY-MM-DD HH:mm:ss')\">\r\n          <span>{{ item.datetime.fromNow() }}</span>\r\n        </a-tooltip>\r\n      </a-comment>\r\n    </a-list-item>\r\n  </a-list>\r\n\r\n</template>\r\n\r\n    </el-footer>\r\n    \r\n</el-container>\r\n  </template>\r\n  <script>\r\n  \r\n  import axios from 'axios';\r\nimport moment from 'moment';\r\n  export default {\r\n    name: 'DocxPreview',\r\n    data() {\r\n      return {\r\n        test1231:'',\r\n        ArticleTile: this.$route.params.id ,\r\n        date:'',\r\n        Writer:'',\r\n        //文章内容：content\r\n        content:'',\r\n        text:'',\r\n        text2:'',\r\n        text3:'',\r\n        labelPosition: 'right',\r\n        formLabelAlign: {\r\n          name: '',\r\n          region: '',\r\n          type: '',\r\n          content:''\r\n        },\r\n        data: [ ],\r\n      moment,\r\n      };\r\n    },\r\n    methods: {\r\n      from(){\r\n        let url6= 'http://localhost:8082/form';\r\n        axios.post(url6,{})\r\n      },\r\n      handleClose(done) {\r\n            done();\r\n      },\r\n      share() {\r\n        this.$confirm('此操作会将文章分享到个人动态页面, 是否继续?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'success'\r\n        }).then(() => {\r\n          this.$message({\r\n            type: 'success',\r\n            message: '分享成功!'\r\n          });\r\n        }).catch(() => {\r\n          this.$message({\r\n            type: 'info',\r\n            message: '已取消分享'\r\n          });          \r\n        });\r\n      },\r\n      like(){\r\n        this.$message({\r\n            type: 'success',\r\n            message: '已点赞！'\r\n          });\r\n      },\r\n      submit(){\r\n        this.$message({\r\n            type: 'success',\r\n            message: '发表评论成功！'\r\n          });\r\n      },\r\n      cancle(){\r\n        this.$message({\r\n            type: 'info',\r\n            message: '已取消'\r\n          });\r\n      }\r\n     \r\n      \r\n    },\r\n    created:function(){\r\n      let url2 = 'http://localhost:8082/aboutArticle';\r\n        let url = 'http://localhost:8082/searchArticleByName3';\r\n        let url3 = 'http://localhost:8082/searchDiscuss';\r\n        let url4 = 'http://localhost:8082/showContent';\r\n        axios.post(url,{ArticleTile:this.ArticleTile}).then(res=>{\r\n          console.log(res.data)\r\n          this.date=res.data.date\r\n          this.Writer=res.data.writer_id\r\n          axios.post(url2,{article_id:res.data.article_id}).then(res1=>{\r\n             this.text= res1.data.shares,\r\n              this.text2= res1.data.likes,\r\n               this.text3= res1.data.comment\r\n          })\r\n        })\r\n        axios.post(url3,{article_name:this.ArticleTile}).then(res3=>{\r\n          console.log(res3.data)\r\n          this.data.splice(0,this.data.length)\r\n          for(let i=0;i<res3.data.length;i++){\r\n            this.data.push( {\r\n          actions: ['Reply to'],\r\n          author: res3.data[i].user_id,\r\n          avatar: require('/src/images/'+res3.data[i].userPhoto),\r\n          content:res3.data[i].content,\r\n           \r\n          datetime: moment().subtract(1, 'days'),\r\n        },)\r\n          }\r\n          \r\n        })\r\n        axios.post(url4,{article_name:this.ArticleTile}).then(res4=>{\r\n        console.log(res4.data.content)\r\n         this.content=res4.data.content\r\n          \r\n        })\r\n    }\r\n  };\r\n</script>"]},"metadata":{},"sourceType":"module"}