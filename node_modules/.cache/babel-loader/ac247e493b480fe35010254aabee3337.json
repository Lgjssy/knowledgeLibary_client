{"ast":null,"code":"import _mergeJSXProps from 'babel-helper-vue-jsx-merge-props';\nimport PropTypes from '../_util/vue-types';\nimport Button from '../button';\nimport BaseMixin from '../_util/BaseMixin';\nimport buttonTypes from '../button/buttonTypes';\nvar ButtonType = buttonTypes().type;\nvar ActionButtonProps = {\n  type: ButtonType,\n  actionFn: PropTypes.func,\n  closeModal: PropTypes.func,\n  autoFocus: PropTypes.bool,\n  buttonProps: PropTypes.object\n};\nexport default {\n  mixins: [BaseMixin],\n  props: ActionButtonProps,\n  data: function data() {\n    return {\n      loading: false\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    if (this.autoFocus) {\n      this.timeoutId = setTimeout(function () {\n        return _this.$el.focus();\n      });\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    clearTimeout(this.timeoutId);\n  },\n  methods: {\n    onClick: function onClick() {\n      var _this2 = this;\n\n      var actionFn = this.actionFn,\n          closeModal = this.closeModal;\n\n      if (actionFn) {\n        var ret = void 0;\n\n        if (actionFn.length) {\n          ret = actionFn(closeModal);\n        } else {\n          ret = actionFn();\n\n          if (!ret) {\n            closeModal();\n          }\n        }\n\n        if (ret && ret.then) {\n          this.setState({\n            loading: true\n          });\n          ret.then(function () {\n            // It's unnecessary to set loading=false, for the Modal will be unmounted after close.\n            // this.setState({ loading: false });\n            closeModal.apply(undefined, arguments);\n          }, function (e) {\n            // Emit error when catch promise reject\n            // eslint-disable-next-line no-console\n            console.error(e); // See: https://github.com/ant-design/ant-design/issues/6183\n\n            _this2.setState({\n              loading: false\n            });\n          });\n        }\n      } else {\n        closeModal();\n      }\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    var type = this.type,\n        $slots = this.$slots,\n        loading = this.loading,\n        buttonProps = this.buttonProps;\n    return h(Button, _mergeJSXProps([{\n      attrs: {\n        type: type,\n        loading: loading\n      },\n      on: {\n        'click': this.onClick\n      }\n    }, buttonProps]), [$slots['default']]);\n  }\n};","map":{"version":3,"names":["_mergeJSXProps","PropTypes","Button","BaseMixin","buttonTypes","ButtonType","type","ActionButtonProps","actionFn","func","closeModal","autoFocus","bool","buttonProps","object","mixins","props","data","loading","mounted","_this","timeoutId","setTimeout","$el","focus","beforeDestroy","clearTimeout","methods","onClick","_this2","ret","length","then","setState","apply","undefined","arguments","e","console","error","render","h","$slots","attrs","on"],"sources":["D:/Desktop/大三上/实训/项目2.0/xbr/xbr/前端/node_modules/ant-design-vue/es/modal/ActionButton.js"],"sourcesContent":["import _mergeJSXProps from 'babel-helper-vue-jsx-merge-props';\r\nimport PropTypes from '../_util/vue-types';\r\nimport Button from '../button';\r\nimport BaseMixin from '../_util/BaseMixin';\r\nimport buttonTypes from '../button/buttonTypes';\r\nvar ButtonType = buttonTypes().type;\r\nvar ActionButtonProps = {\r\n  type: ButtonType,\r\n  actionFn: PropTypes.func,\r\n  closeModal: PropTypes.func,\r\n  autoFocus: PropTypes.bool,\r\n  buttonProps: PropTypes.object\r\n};\r\n\r\nexport default {\r\n  mixins: [BaseMixin],\r\n  props: ActionButtonProps,\r\n  data: function data() {\r\n    return {\r\n      loading: false\r\n    };\r\n  },\r\n  mounted: function mounted() {\r\n    var _this = this;\r\n\r\n    if (this.autoFocus) {\r\n      this.timeoutId = setTimeout(function () {\r\n        return _this.$el.focus();\r\n      });\r\n    }\r\n  },\r\n  beforeDestroy: function beforeDestroy() {\r\n    clearTimeout(this.timeoutId);\r\n  },\r\n\r\n  methods: {\r\n    onClick: function onClick() {\r\n      var _this2 = this;\r\n\r\n      var actionFn = this.actionFn,\r\n          closeModal = this.closeModal;\r\n\r\n      if (actionFn) {\r\n        var ret = void 0;\r\n        if (actionFn.length) {\r\n          ret = actionFn(closeModal);\r\n        } else {\r\n          ret = actionFn();\r\n          if (!ret) {\r\n            closeModal();\r\n          }\r\n        }\r\n        if (ret && ret.then) {\r\n          this.setState({ loading: true });\r\n          ret.then(function () {\r\n            // It's unnecessary to set loading=false, for the Modal will be unmounted after close.\r\n            // this.setState({ loading: false });\r\n            closeModal.apply(undefined, arguments);\r\n          }, function (e) {\r\n            // Emit error when catch promise reject\r\n            // eslint-disable-next-line no-console\r\n            console.error(e);\r\n            // See: https://github.com/ant-design/ant-design/issues/6183\r\n            _this2.setState({ loading: false });\r\n          });\r\n        }\r\n      } else {\r\n        closeModal();\r\n      }\r\n    }\r\n  },\r\n\r\n  render: function render() {\r\n    var h = arguments[0];\r\n    var type = this.type,\r\n        $slots = this.$slots,\r\n        loading = this.loading,\r\n        buttonProps = this.buttonProps;\r\n\r\n    return h(\r\n      Button,\r\n      _mergeJSXProps([{\r\n        attrs: { type: type, loading: loading },\r\n        on: {\r\n          'click': this.onClick\r\n        }\r\n      }, buttonProps]),\r\n      [$slots['default']]\r\n    );\r\n  }\r\n};"],"mappings":"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"},"metadata":{},"sourceType":"module"}