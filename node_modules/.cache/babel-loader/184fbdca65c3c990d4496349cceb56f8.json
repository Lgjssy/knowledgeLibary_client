{"ast":null,"code":"import Vue from 'vue';\nimport Router from 'vue-router';\nVue.use(Router);\nRouter.beforeEach((to, from, next) => {\n  if (to.meta.requireAuth) {\n    // 判断该路由是否需要登录权限\n    if (store.state.token) {\n      // 通过vuex state获取当前的token是否存在\n      next();\n    } else {\n      next({\n        path: '/',\n        query: {\n          redirect: to.fullPath\n        } // 将跳转的路由path作为参数，登录成功后跳转到该路由\n\n      });\n    }\n  } else {\n    next();\n  }\n});\nexport default new Router({\n  routes: [{\n    path: '/app',\n    name: 'App',\n    component: () => import('../App.vue')\n  }, {\n    //登录\n    path: '/',\n    name: 'Login',\n    component: () => import('../components/Login.vue')\n  }, {\n    //注册\n    path: '/register',\n    name: 'Register',\n    component: () => import('../components/Register.vue')\n  }, {\n    //主页\n    path: '/home',\n    name: 'Home',\n    component: () => import('../components/mainPage.vue'),\n    meta: {\n      requireAuth: true // 添加该字段，表示进入这个路由是需要登录的\n\n    }\n  }, {\n    //我的关注\n    path: '/myFollow',\n    name: 'myFollow',\n    component: () => import('../components/myFollow.vue'),\n    meta: {\n      requireAuth: true // 添加该字段，表示进入这个路由是需要登录的\n\n    }\n  }, {\n    //我的消息\n    path: '/myMessage',\n    name: 'myMessage',\n    component: () => import('../components/myMessage.vue'),\n    meta: {\n      requireAuth: true // 添加该字段，表示进入这个路由是需要登录的\n\n    }\n  }, {\n    //个人中心\n    path: '/PersonalCenter',\n    name: 'PersonalCenter',\n    component: () => import('../components/PersonalCenter.vue'),\n    meta: {\n      requireAuth: true // 添加该字段，表示进入这个路由是需要登录的\n\n    }\n  }, {\n    //搜索\n    path: '/search',\n    name: 'search',\n    component: () => import('../components/search.vue'),\n    meta: {\n      requireAuth: true // 添加该字段，表示进入这个路由是需要登录的\n\n    }\n  }, {\n    //文本编辑器\n    path: '/writer',\n    name: 'writer',\n    component: () => import('../components/writer.vue'),\n    meta: {\n      requireAuth: true // 添加该字段，表示进入这个路由是需要登录的\n\n    }\n  }],\n  mode: \"history\"\n});","map":{"version":3,"names":["Vue","Router","use","beforeEach","to","from","next","meta","requireAuth","store","state","token","path","query","redirect","fullPath","routes","name","component","mode"],"sources":["D:/TIM文件/软工实训/前端/src/router/index.js"],"sourcesContent":["import Vue from 'vue'\nimport Router from 'vue-router'\n\n\nVue.use(Router)\nRouter.beforeEach((to, from, next) => {\n  if (to.meta.requireAuth) {  // 判断该路由是否需要登录权限\n      if (store.state.token) {  // 通过vuex state获取当前的token是否存在\n          next();\n      }\n      else {\n          next({\n              path: '/',\n              query: {redirect: to.fullPath}  // 将跳转的路由path作为参数，登录成功后跳转到该路由\n          })\n      }\n  }\n  else {\n      next();\n  }\n})\nexport default new Router({\n  \n  routes: [\n    {\n      path:'/app',\n      name:'App',\n      component:() => import('../App.vue')\n    },\n    {//登录\n      path: '/',\n      name: 'Login',\n      component: () => import('../components/Login.vue')\n    }, \n    {//注册\n      path: '/register',\n      name: 'Register',\n      component:() => import('../components/Register.vue')\n    },\n    {//主页\n      path:'/home',\n      name:'Home',\n      component:() => import('../components/mainPage.vue'),\n      meta: {\n        requireAuth: true,  // 添加该字段，表示进入这个路由是需要登录的\n      },\n    },\n    {//我的关注\n      path:'/myFollow',\n      name:'myFollow',\n      component:() => import('../components/myFollow.vue'),\n      meta: {\n        requireAuth: true,  // 添加该字段，表示进入这个路由是需要登录的\n      },\n    },\n    {//我的消息\n      path:'/myMessage',\n      name:'myMessage',\n      component:() => import('../components/myMessage.vue'),\n      meta: {\n        requireAuth: true,  // 添加该字段，表示进入这个路由是需要登录的\n      },\n    },\n    {//个人中心\n      path:'/PersonalCenter',\n      name:'PersonalCenter',\n      component:() => import('../components/PersonalCenter.vue'),\n      meta: {\n        requireAuth: true,  // 添加该字段，表示进入这个路由是需要登录的\n      },\n    },\n    {//搜索\n      path:'/search',\n      name:'search',\n      component:() => import('../components/search.vue'),\n      meta: {\n        requireAuth: true,  // 添加该字段，表示进入这个路由是需要登录的\n      },\n    },\n    {//文本编辑器\n      path:'/writer',\n      name:'writer',\n      component:() => import('../components/writer.vue'),\n      meta: {\n        requireAuth: true,  // 添加该字段，表示进入这个路由是需要登录的\n      },\n    },\n   \n  ],\n  mode: \"history\"\n})\n"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,MAAP,MAAmB,YAAnB;AAGAD,GAAG,CAACE,GAAJ,CAAQD,MAAR;AACAA,MAAM,CAACE,UAAP,CAAkB,CAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,KAAoB;EACpC,IAAIF,EAAE,CAACG,IAAH,CAAQC,WAAZ,EAAyB;IAAG;IACxB,IAAIC,KAAK,CAACC,KAAN,CAAYC,KAAhB,EAAuB;MAAG;MACtBL,IAAI;IACP,CAFD,MAGK;MACDA,IAAI,CAAC;QACDM,IAAI,EAAE,GADL;QAEDC,KAAK,EAAE;UAACC,QAAQ,EAAEV,EAAE,CAACW;QAAd,CAFN,CAE+B;;MAF/B,CAAD,CAAJ;IAIH;EACJ,CAVD,MAWK;IACDT,IAAI;EACP;AACF,CAfD;AAgBA,eAAe,IAAIL,MAAJ,CAAW;EAExBe,MAAM,EAAE,CACN;IACEJ,IAAI,EAAC,MADP;IAEEK,IAAI,EAAC,KAFP;IAGEC,SAAS,EAAC,MAAM,OAAO,YAAP;EAHlB,CADM,EAMN;IAAC;IACCN,IAAI,EAAE,GADR;IAEEK,IAAI,EAAE,OAFR;IAGEC,SAAS,EAAE,MAAM,OAAO,yBAAP;EAHnB,CANM,EAWN;IAAC;IACCN,IAAI,EAAE,WADR;IAEEK,IAAI,EAAE,UAFR;IAGEC,SAAS,EAAC,MAAM,OAAO,4BAAP;EAHlB,CAXM,EAgBN;IAAC;IACCN,IAAI,EAAC,OADP;IAEEK,IAAI,EAAC,MAFP;IAGEC,SAAS,EAAC,MAAM,OAAO,4BAAP,CAHlB;IAIEX,IAAI,EAAE;MACJC,WAAW,EAAE,IADT,CACgB;;IADhB;EAJR,CAhBM,EAwBN;IAAC;IACCI,IAAI,EAAC,WADP;IAEEK,IAAI,EAAC,UAFP;IAGEC,SAAS,EAAC,MAAM,OAAO,4BAAP,CAHlB;IAIEX,IAAI,EAAE;MACJC,WAAW,EAAE,IADT,CACgB;;IADhB;EAJR,CAxBM,EAgCN;IAAC;IACCI,IAAI,EAAC,YADP;IAEEK,IAAI,EAAC,WAFP;IAGEC,SAAS,EAAC,MAAM,OAAO,6BAAP,CAHlB;IAIEX,IAAI,EAAE;MACJC,WAAW,EAAE,IADT,CACgB;;IADhB;EAJR,CAhCM,EAwCN;IAAC;IACCI,IAAI,EAAC,iBADP;IAEEK,IAAI,EAAC,gBAFP;IAGEC,SAAS,EAAC,MAAM,OAAO,kCAAP,CAHlB;IAIEX,IAAI,EAAE;MACJC,WAAW,EAAE,IADT,CACgB;;IADhB;EAJR,CAxCM,EAgDN;IAAC;IACCI,IAAI,EAAC,SADP;IAEEK,IAAI,EAAC,QAFP;IAGEC,SAAS,EAAC,MAAM,OAAO,0BAAP,CAHlB;IAIEX,IAAI,EAAE;MACJC,WAAW,EAAE,IADT,CACgB;;IADhB;EAJR,CAhDM,EAwDN;IAAC;IACCI,IAAI,EAAC,SADP;IAEEK,IAAI,EAAC,QAFP;IAGEC,SAAS,EAAC,MAAM,OAAO,0BAAP,CAHlB;IAIEX,IAAI,EAAE;MACJC,WAAW,EAAE,IADT,CACgB;;IADhB;EAJR,CAxDM,CAFgB;EAoExBW,IAAI,EAAE;AApEkB,CAAX,CAAf"},"metadata":{},"sourceType":"module"}