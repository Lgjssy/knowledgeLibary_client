{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport RcDropdown from '../vc-dropdown/src/index';\nimport DropdownButton from './dropdown-button';\nimport PropTypes from '../_util/vue-types';\nimport { cloneElement } from '../_util/vnode';\nimport { getOptionProps, getPropsData, getComponentFromProp, getListeners } from '../_util/props-util';\nimport getDropdownProps from './getDropdownProps';\nimport { ConfigConsumerProps } from '../config-provider/configConsumerProps';\nimport Icon from '../icon';\nvar DropdownProps = getDropdownProps();\nvar Dropdown = {\n  name: 'ADropdown',\n  props: _extends({}, DropdownProps, {\n    prefixCls: PropTypes.string,\n    mouseEnterDelay: PropTypes.number.def(0.15),\n    mouseLeaveDelay: PropTypes.number.def(0.1),\n    placement: DropdownProps.placement.def('bottomLeft')\n  }),\n  model: {\n    prop: 'visible',\n    event: 'visibleChange'\n  },\n  provide: function provide() {\n    return {\n      savePopupRef: this.savePopupRef\n    };\n  },\n  inject: {\n    configProvider: {\n      'default': function _default() {\n        return ConfigConsumerProps;\n      }\n    }\n  },\n  methods: {\n    savePopupRef: function savePopupRef(ref) {\n      this.popupRef = ref;\n    },\n    getTransitionName: function getTransitionName() {\n      var _$props = this.$props,\n          _$props$placement = _$props.placement,\n          placement = _$props$placement === undefined ? '' : _$props$placement,\n          transitionName = _$props.transitionName;\n\n      if (transitionName !== undefined) {\n        return transitionName;\n      }\n\n      if (placement.indexOf('top') >= 0) {\n        return 'slide-down';\n      }\n\n      return 'slide-up';\n    },\n    renderOverlay: function renderOverlay(prefixCls) {\n      var h = this.$createElement;\n      var overlay = getComponentFromProp(this, 'overlay');\n      var overlayNode = Array.isArray(overlay) ? overlay[0] : overlay; // menu cannot be selectable in dropdown defaultly\n      // menu should be focusable in dropdown defaultly\n\n      var overlayProps = overlayNode && getPropsData(overlayNode);\n\n      var _ref = overlayProps || {},\n          _ref$selectable = _ref.selectable,\n          selectable = _ref$selectable === undefined ? false : _ref$selectable,\n          _ref$focusable = _ref.focusable,\n          focusable = _ref$focusable === undefined ? true : _ref$focusable;\n\n      var expandIcon = h('span', {\n        'class': prefixCls + '-menu-submenu-arrow'\n      }, [h(Icon, {\n        attrs: {\n          type: 'right'\n        },\n        'class': prefixCls + '-menu-submenu-arrow-icon'\n      })]);\n      var fixedModeOverlay = overlayNode && overlayNode.componentOptions ? cloneElement(overlayNode, {\n        props: {\n          mode: 'vertical',\n          selectable: selectable,\n          focusable: focusable,\n          expandIcon: expandIcon\n        }\n      }) : overlay;\n      return fixedModeOverlay;\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    var $slots = this.$slots;\n    var props = getOptionProps(this);\n    var customizePrefixCls = props.prefixCls,\n        trigger = props.trigger,\n        disabled = props.disabled,\n        getPopupContainer = props.getPopupContainer;\n    var getContextPopupContainer = this.configProvider.getPopupContainer;\n    var getPrefixCls = this.configProvider.getPrefixCls;\n    var prefixCls = getPrefixCls('dropdown', customizePrefixCls);\n    var dropdownTrigger = cloneElement($slots['default'], {\n      'class': prefixCls + '-trigger',\n      props: {\n        disabled: disabled\n      }\n    });\n    var triggerActions = disabled ? [] : trigger;\n    var alignPoint = void 0;\n\n    if (triggerActions && triggerActions.indexOf('contextmenu') !== -1) {\n      alignPoint = true;\n    }\n\n    var dropdownProps = {\n      props: _extends({\n        alignPoint: alignPoint\n      }, props, {\n        prefixCls: prefixCls,\n        getPopupContainer: getPopupContainer || getContextPopupContainer,\n        transitionName: this.getTransitionName(),\n        trigger: triggerActions\n      }),\n      on: getListeners(this)\n    };\n    return h(RcDropdown, dropdownProps, [dropdownTrigger, h('template', {\n      slot: 'overlay'\n    }, [this.renderOverlay(prefixCls)])]);\n  }\n};\nDropdown.Button = DropdownButton;\nexport default Dropdown;\nexport { DropdownProps };","map":{"version":3,"names":["_extends","RcDropdown","DropdownButton","PropTypes","cloneElement","getOptionProps","getPropsData","getComponentFromProp","getListeners","getDropdownProps","ConfigConsumerProps","Icon","DropdownProps","Dropdown","name","props","prefixCls","string","mouseEnterDelay","number","def","mouseLeaveDelay","placement","model","prop","event","provide","savePopupRef","inject","configProvider","_default","methods","ref","popupRef","getTransitionName","_$props","$props","_$props$placement","undefined","transitionName","indexOf","renderOverlay","h","$createElement","overlay","overlayNode","Array","isArray","overlayProps","_ref","_ref$selectable","selectable","_ref$focusable","focusable","expandIcon","attrs","type","fixedModeOverlay","componentOptions","mode","render","arguments","$slots","customizePrefixCls","trigger","disabled","getPopupContainer","getContextPopupContainer","getPrefixCls","dropdownTrigger","triggerActions","alignPoint","dropdownProps","on","slot","Button"],"sources":["D:/Desktop/大三上/实训/项目2.0/xbr/xbr/前端/node_modules/ant-design-vue/es/dropdown/dropdown.js"],"sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\r\nimport RcDropdown from '../vc-dropdown/src/index';\r\nimport DropdownButton from './dropdown-button';\r\nimport PropTypes from '../_util/vue-types';\r\nimport { cloneElement } from '../_util/vnode';\r\nimport { getOptionProps, getPropsData, getComponentFromProp, getListeners } from '../_util/props-util';\r\nimport getDropdownProps from './getDropdownProps';\r\nimport { ConfigConsumerProps } from '../config-provider/configConsumerProps';\r\nimport Icon from '../icon';\r\n\r\nvar DropdownProps = getDropdownProps();\r\nvar Dropdown = {\r\n  name: 'ADropdown',\r\n  props: _extends({}, DropdownProps, {\r\n    prefixCls: PropTypes.string,\r\n    mouseEnterDelay: PropTypes.number.def(0.15),\r\n    mouseLeaveDelay: PropTypes.number.def(0.1),\r\n    placement: DropdownProps.placement.def('bottomLeft')\r\n  }),\r\n  model: {\r\n    prop: 'visible',\r\n    event: 'visibleChange'\r\n  },\r\n  provide: function provide() {\r\n    return {\r\n      savePopupRef: this.savePopupRef\r\n    };\r\n  },\r\n\r\n  inject: {\r\n    configProvider: { 'default': function _default() {\r\n        return ConfigConsumerProps;\r\n      } }\r\n  },\r\n  methods: {\r\n    savePopupRef: function savePopupRef(ref) {\r\n      this.popupRef = ref;\r\n    },\r\n    getTransitionName: function getTransitionName() {\r\n      var _$props = this.$props,\r\n          _$props$placement = _$props.placement,\r\n          placement = _$props$placement === undefined ? '' : _$props$placement,\r\n          transitionName = _$props.transitionName;\r\n\r\n      if (transitionName !== undefined) {\r\n        return transitionName;\r\n      }\r\n      if (placement.indexOf('top') >= 0) {\r\n        return 'slide-down';\r\n      }\r\n      return 'slide-up';\r\n    },\r\n    renderOverlay: function renderOverlay(prefixCls) {\r\n      var h = this.$createElement;\r\n\r\n      var overlay = getComponentFromProp(this, 'overlay');\r\n      var overlayNode = Array.isArray(overlay) ? overlay[0] : overlay;\r\n      // menu cannot be selectable in dropdown defaultly\r\n      // menu should be focusable in dropdown defaultly\r\n      var overlayProps = overlayNode && getPropsData(overlayNode);\r\n\r\n      var _ref = overlayProps || {},\r\n          _ref$selectable = _ref.selectable,\r\n          selectable = _ref$selectable === undefined ? false : _ref$selectable,\r\n          _ref$focusable = _ref.focusable,\r\n          focusable = _ref$focusable === undefined ? true : _ref$focusable;\r\n\r\n      var expandIcon = h(\r\n        'span',\r\n        { 'class': prefixCls + '-menu-submenu-arrow' },\r\n        [h(Icon, {\r\n          attrs: { type: 'right' },\r\n          'class': prefixCls + '-menu-submenu-arrow-icon' })]\r\n      );\r\n\r\n      var fixedModeOverlay = overlayNode && overlayNode.componentOptions ? cloneElement(overlayNode, {\r\n        props: {\r\n          mode: 'vertical',\r\n          selectable: selectable,\r\n          focusable: focusable,\r\n          expandIcon: expandIcon\r\n        }\r\n      }) : overlay;\r\n      return fixedModeOverlay;\r\n    }\r\n  },\r\n\r\n  render: function render() {\r\n    var h = arguments[0];\r\n    var $slots = this.$slots;\r\n\r\n    var props = getOptionProps(this);\r\n    var customizePrefixCls = props.prefixCls,\r\n        trigger = props.trigger,\r\n        disabled = props.disabled,\r\n        getPopupContainer = props.getPopupContainer;\r\n    var getContextPopupContainer = this.configProvider.getPopupContainer;\r\n\r\n    var getPrefixCls = this.configProvider.getPrefixCls;\r\n    var prefixCls = getPrefixCls('dropdown', customizePrefixCls);\r\n\r\n    var dropdownTrigger = cloneElement($slots['default'], {\r\n      'class': prefixCls + '-trigger',\r\n      props: {\r\n        disabled: disabled\r\n      }\r\n    });\r\n    var triggerActions = disabled ? [] : trigger;\r\n    var alignPoint = void 0;\r\n    if (triggerActions && triggerActions.indexOf('contextmenu') !== -1) {\r\n      alignPoint = true;\r\n    }\r\n    var dropdownProps = {\r\n      props: _extends({\r\n        alignPoint: alignPoint\r\n      }, props, {\r\n        prefixCls: prefixCls,\r\n        getPopupContainer: getPopupContainer || getContextPopupContainer,\r\n        transitionName: this.getTransitionName(),\r\n        trigger: triggerActions\r\n      }),\r\n      on: getListeners(this)\r\n    };\r\n    return h(\r\n      RcDropdown,\r\n      dropdownProps,\r\n      [dropdownTrigger, h(\r\n        'template',\r\n        { slot: 'overlay' },\r\n        [this.renderOverlay(prefixCls)]\r\n      )]\r\n    );\r\n  }\r\n};\r\n\r\nDropdown.Button = DropdownButton;\r\nexport default Dropdown;\r\nexport { DropdownProps };"],"mappings":"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"},"metadata":{},"sourceType":"module"}