{"ast":null,"code":"import _mergeJSXProps from 'babel-helper-vue-jsx-merge-props';\nimport _extends from 'babel-runtime/helpers/extends';\nimport PropTypes from '../../_util/vue-types';\nimport { measureScrollbar } from './utils';\nimport BaseTable from './BaseTable';\nexport default {\n  name: 'BodyTable',\n  props: {\n    fixed: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n    columns: PropTypes.array.isRequired,\n    tableClassName: PropTypes.string.isRequired,\n    handleBodyScroll: PropTypes.func.isRequired,\n    handleWheel: PropTypes.func.isRequired,\n    getRowKey: PropTypes.func.isRequired,\n    expander: PropTypes.object.isRequired,\n    isAnyColumnsFixed: PropTypes.bool\n  },\n  inject: {\n    table: {\n      'default': function _default() {\n        return {};\n      }\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    var _table = this.table,\n        prefixCls = _table.prefixCls,\n        scroll = _table.scroll;\n    var columns = this.columns,\n        fixed = this.fixed,\n        tableClassName = this.tableClassName,\n        getRowKey = this.getRowKey,\n        handleBodyScroll = this.handleBodyScroll,\n        handleWheel = this.handleWheel,\n        expander = this.expander,\n        isAnyColumnsFixed = this.isAnyColumnsFixed;\n    var _table2 = this.table,\n        useFixedHeader = _table2.useFixedHeader,\n        saveRef = _table2.saveRef;\n\n    var bodyStyle = _extends({}, this.table.bodyStyle);\n\n    var innerBodyStyle = {};\n\n    if (scroll.x || fixed) {\n      bodyStyle.overflowX = bodyStyle.overflowX || 'scroll'; // Fix weired webkit render bug\n      // https://github.com/ant-design/ant-design/issues/7783\n\n      bodyStyle.WebkitTransform = 'translate3d (0, 0, 0)';\n    }\n\n    if (scroll.y) {\n      // maxHeight will make fixed-Table scrolling not working\n      // so we only set maxHeight to body-Table here\n      var maxHeight = bodyStyle.maxHeight || scroll.y;\n      maxHeight = typeof maxHeight === 'number' ? maxHeight + 'px' : maxHeight;\n\n      if (fixed) {\n        innerBodyStyle.maxHeight = maxHeight;\n        innerBodyStyle.overflowY = bodyStyle.overflowY || 'scroll';\n      } else {\n        bodyStyle.maxHeight = maxHeight;\n      }\n\n      bodyStyle.overflowY = bodyStyle.overflowY || 'scroll';\n      useFixedHeader = true; // Add negative margin bottom for scroll bar overflow bug\n\n      var scrollbarWidth = measureScrollbar({\n        direction: 'vertical'\n      });\n\n      if (scrollbarWidth > 0 && fixed) {\n        bodyStyle.marginBottom = '-' + scrollbarWidth + 'px';\n        bodyStyle.paddingBottom = '0px';\n      }\n    }\n\n    var baseTable = h(BaseTable, {\n      attrs: {\n        tableClassName: tableClassName,\n        hasHead: !useFixedHeader,\n        hasBody: true,\n        fixed: fixed,\n        columns: columns,\n        expander: expander,\n        getRowKey: getRowKey,\n        isAnyColumnsFixed: isAnyColumnsFixed\n      }\n    });\n\n    if (fixed && columns.length) {\n      var refName = void 0;\n\n      if (columns[0].fixed === 'left' || columns[0].fixed === true) {\n        refName = 'fixedColumnsBodyLeft';\n      } else if (columns[0].fixed === 'right') {\n        refName = 'fixedColumnsBodyRight';\n      }\n\n      delete bodyStyle.overflowX;\n      delete bodyStyle.overflowY;\n      return h('div', {\n        key: 'bodyTable',\n        'class': prefixCls + '-body-outer',\n        style: _extends({}, bodyStyle)\n      }, [h('div', _mergeJSXProps([{\n        'class': prefixCls + '-body-inner',\n        style: innerBodyStyle\n      }, {\n        directives: [{\n          name: 'ant-ref',\n          value: saveRef(refName)\n        }]\n      }, {\n        on: {\n          'wheel': handleWheel,\n          'scroll': handleBodyScroll\n        }\n      }]), [baseTable])]);\n    } // Should provides `tabIndex` if use scroll to enable keyboard scroll\n\n\n    var useTabIndex = scroll && (scroll.x || scroll.y);\n    return h('div', _mergeJSXProps([{\n      attrs: {\n        tabIndex: useTabIndex ? -1 : undefined\n      },\n      key: 'bodyTable',\n      'class': prefixCls + '-body',\n      style: bodyStyle\n    }, {\n      directives: [{\n        name: 'ant-ref',\n        value: saveRef('bodyTable')\n      }]\n    }, {\n      on: {\n        'wheel': handleWheel,\n        'scroll': handleBodyScroll\n      }\n    }]), [baseTable]);\n  }\n};","map":{"version":3,"names":["_mergeJSXProps","_extends","PropTypes","measureScrollbar","BaseTable","name","props","fixed","oneOfType","string","bool","columns","array","isRequired","tableClassName","handleBodyScroll","func","handleWheel","getRowKey","expander","object","isAnyColumnsFixed","inject","table","_default","render","h","arguments","_table","prefixCls","scroll","_table2","useFixedHeader","saveRef","bodyStyle","innerBodyStyle","x","overflowX","WebkitTransform","y","maxHeight","overflowY","scrollbarWidth","direction","marginBottom","paddingBottom","baseTable","attrs","hasHead","hasBody","length","refName","key","style","directives","value","on","useTabIndex","tabIndex","undefined"],"sources":["D:/Desktop/大三上/实训/项目2.0/xbr/前端/node_modules/ant-design-vue/es/vc-table/src/BodyTable.js"],"sourcesContent":["import _mergeJSXProps from 'babel-helper-vue-jsx-merge-props';\r\nimport _extends from 'babel-runtime/helpers/extends';\r\nimport PropTypes from '../../_util/vue-types';\r\nimport { measureScrollbar } from './utils';\r\nimport BaseTable from './BaseTable';\r\n\r\nexport default {\r\n  name: 'BodyTable',\r\n  props: {\r\n    fixed: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\r\n    columns: PropTypes.array.isRequired,\r\n    tableClassName: PropTypes.string.isRequired,\r\n    handleBodyScroll: PropTypes.func.isRequired,\r\n    handleWheel: PropTypes.func.isRequired,\r\n    getRowKey: PropTypes.func.isRequired,\r\n    expander: PropTypes.object.isRequired,\r\n    isAnyColumnsFixed: PropTypes.bool\r\n  },\r\n  inject: {\r\n    table: { 'default': function _default() {\r\n        return {};\r\n      } }\r\n  },\r\n  render: function render() {\r\n    var h = arguments[0];\r\n    var _table = this.table,\r\n        prefixCls = _table.prefixCls,\r\n        scroll = _table.scroll;\r\n    var columns = this.columns,\r\n        fixed = this.fixed,\r\n        tableClassName = this.tableClassName,\r\n        getRowKey = this.getRowKey,\r\n        handleBodyScroll = this.handleBodyScroll,\r\n        handleWheel = this.handleWheel,\r\n        expander = this.expander,\r\n        isAnyColumnsFixed = this.isAnyColumnsFixed;\r\n    var _table2 = this.table,\r\n        useFixedHeader = _table2.useFixedHeader,\r\n        saveRef = _table2.saveRef;\r\n\r\n    var bodyStyle = _extends({}, this.table.bodyStyle);\r\n    var innerBodyStyle = {};\r\n\r\n    if (scroll.x || fixed) {\r\n      bodyStyle.overflowX = bodyStyle.overflowX || 'scroll';\r\n      // Fix weired webkit render bug\r\n      // https://github.com/ant-design/ant-design/issues/7783\r\n      bodyStyle.WebkitTransform = 'translate3d (0, 0, 0)';\r\n    }\r\n\r\n    if (scroll.y) {\r\n      // maxHeight will make fixed-Table scrolling not working\r\n      // so we only set maxHeight to body-Table here\r\n      var maxHeight = bodyStyle.maxHeight || scroll.y;\r\n      maxHeight = typeof maxHeight === 'number' ? maxHeight + 'px' : maxHeight;\r\n      if (fixed) {\r\n        innerBodyStyle.maxHeight = maxHeight;\r\n        innerBodyStyle.overflowY = bodyStyle.overflowY || 'scroll';\r\n      } else {\r\n        bodyStyle.maxHeight = maxHeight;\r\n      }\r\n      bodyStyle.overflowY = bodyStyle.overflowY || 'scroll';\r\n      useFixedHeader = true;\r\n\r\n      // Add negative margin bottom for scroll bar overflow bug\r\n      var scrollbarWidth = measureScrollbar({ direction: 'vertical' });\r\n      if (scrollbarWidth > 0 && fixed) {\r\n        bodyStyle.marginBottom = '-' + scrollbarWidth + 'px';\r\n        bodyStyle.paddingBottom = '0px';\r\n      }\r\n    }\r\n\r\n    var baseTable = h(BaseTable, {\r\n      attrs: {\r\n        tableClassName: tableClassName,\r\n        hasHead: !useFixedHeader,\r\n        hasBody: true,\r\n        fixed: fixed,\r\n        columns: columns,\r\n        expander: expander,\r\n        getRowKey: getRowKey,\r\n        isAnyColumnsFixed: isAnyColumnsFixed\r\n      }\r\n    });\r\n\r\n    if (fixed && columns.length) {\r\n      var refName = void 0;\r\n      if (columns[0].fixed === 'left' || columns[0].fixed === true) {\r\n        refName = 'fixedColumnsBodyLeft';\r\n      } else if (columns[0].fixed === 'right') {\r\n        refName = 'fixedColumnsBodyRight';\r\n      }\r\n      delete bodyStyle.overflowX;\r\n      delete bodyStyle.overflowY;\r\n      return h(\r\n        'div',\r\n        { key: 'bodyTable', 'class': prefixCls + '-body-outer', style: _extends({}, bodyStyle) },\r\n        [h(\r\n          'div',\r\n          _mergeJSXProps([{\r\n            'class': prefixCls + '-body-inner',\r\n            style: innerBodyStyle\r\n          }, {\r\n            directives: [{\r\n              name: 'ant-ref',\r\n              value: saveRef(refName)\r\n            }]\r\n          }, {\r\n            on: {\r\n              'wheel': handleWheel,\r\n              'scroll': handleBodyScroll\r\n            }\r\n          }]),\r\n          [baseTable]\r\n        )]\r\n      );\r\n    }\r\n    // Should provides `tabIndex` if use scroll to enable keyboard scroll\r\n    var useTabIndex = scroll && (scroll.x || scroll.y);\r\n\r\n    return h(\r\n      'div',\r\n      _mergeJSXProps([{\r\n        attrs: {\r\n          tabIndex: useTabIndex ? -1 : undefined\r\n        },\r\n        key: 'bodyTable',\r\n        'class': prefixCls + '-body',\r\n        style: bodyStyle\r\n      }, {\r\n        directives: [{\r\n          name: 'ant-ref',\r\n          value: saveRef('bodyTable')\r\n        }]\r\n      }, {\r\n        on: {\r\n          'wheel': handleWheel,\r\n          'scroll': handleBodyScroll\r\n        }\r\n      }]),\r\n      [baseTable]\r\n    );\r\n  }\r\n};"],"mappings":"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"},"metadata":{},"sourceType":"module"}