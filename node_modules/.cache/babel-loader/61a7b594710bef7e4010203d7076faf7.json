{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport Notification from '../vc-notification';\nimport Icon from '../icon';\nvar defaultDuration = 3;\nvar defaultTop = void 0;\nvar messageInstance = void 0;\nvar key = 1;\nvar prefixCls = 'ant-message';\nvar transitionName = 'move-up';\n\nvar getContainer = function getContainer() {\n  return document.body;\n};\n\nvar maxCount = void 0;\n\nfunction getMessageInstance(callback) {\n  if (messageInstance) {\n    callback(messageInstance);\n    return;\n  }\n\n  Notification.newInstance({\n    prefixCls: prefixCls,\n    transitionName: transitionName,\n    style: {\n      top: defaultTop\n    },\n    // 覆盖原来的样式\n    getContainer: getContainer,\n    maxCount: maxCount\n  }, function (instance) {\n    if (messageInstance) {\n      callback(messageInstance);\n      return;\n    }\n\n    messageInstance = instance;\n    callback(instance);\n  });\n} // type NoticeType = 'info' | 'success' | 'error' | 'warning' | 'loading';\n\n\nfunction notice(args) {\n  var duration = args.duration !== undefined ? args.duration : defaultDuration;\n  var iconType = {\n    info: 'info-circle',\n    success: 'check-circle',\n    error: 'close-circle',\n    warning: 'exclamation-circle',\n    loading: 'loading'\n  }[args.type];\n  var target = args.key || key++;\n  var closePromise = new Promise(function (resolve) {\n    var callback = function callback() {\n      if (typeof args.onClose === 'function') {\n        args.onClose();\n      }\n\n      return resolve(true);\n    };\n\n    getMessageInstance(function (instance) {\n      instance.notice({\n        key: target,\n        duration: duration,\n        style: {},\n        content: function content(h) {\n          var iconNode = h(Icon, {\n            attrs: {\n              type: iconType,\n              theme: iconType === 'loading' ? 'outlined' : 'filled'\n            }\n          });\n          var switchIconNode = iconType ? iconNode : '';\n          return h('div', {\n            'class': prefixCls + '-custom-content' + (args.type ? ' ' + prefixCls + '-' + args.type : '')\n          }, [args.icon ? typeof args.icon === 'function' ? args.icon(h) : args.icon : switchIconNode, h('span', [typeof args.content === 'function' ? args.content(h) : args.content])]);\n        },\n        onClose: callback\n      });\n    });\n  });\n\n  var result = function result() {\n    if (messageInstance) {\n      messageInstance.removeNotice(target);\n    }\n  };\n\n  result.then = function (filled, rejected) {\n    return closePromise.then(filled, rejected);\n  };\n\n  result.promise = closePromise;\n  return result;\n} // type ConfigContent = React.ReactNode | string;\n// type ConfigDuration = number | (() => void);\n// export type ConfigOnClose = () => void;\n\n\nfunction isArgsProps(content) {\n  return Object.prototype.toString.call(content) === '[object Object]' && !!content.content;\n} // export interface ConfigOptions {\n//   top?: number;\n//   duration?: number;\n//   prefixCls?: string;\n//   getContainer?: () => HTMLElement;\n//   transitionName?: string;\n// }\n\n\nvar api = {\n  open: notice,\n  config: function config(options) {\n    if (options.top !== undefined) {\n      defaultTop = options.top;\n      messageInstance = null; // delete messageInstance for new defaultTop\n    }\n\n    if (options.duration !== undefined) {\n      defaultDuration = options.duration;\n    }\n\n    if (options.prefixCls !== undefined) {\n      prefixCls = options.prefixCls;\n    }\n\n    if (options.getContainer !== undefined) {\n      getContainer = options.getContainer;\n    }\n\n    if (options.transitionName !== undefined) {\n      transitionName = options.transitionName;\n      messageInstance = null; // delete messageInstance for new transitionName\n    }\n\n    if (options.maxCount !== undefined) {\n      maxCount = options.maxCount;\n      messageInstance = null;\n    }\n  },\n  destroy: function destroy() {\n    if (messageInstance) {\n      messageInstance.destroy();\n      messageInstance = null;\n    }\n  }\n};\n['success', 'info', 'warning', 'error', 'loading'].forEach(function (type) {\n  api[type] = function (content, duration, onClose) {\n    if (isArgsProps(content)) {\n      return api.open(_extends({}, content, {\n        type: type\n      }));\n    }\n\n    if (typeof duration === 'function') {\n      onClose = duration;\n      duration = undefined;\n    }\n\n    return api.open({\n      content: content,\n      duration: duration,\n      type: type,\n      onClose: onClose\n    });\n  };\n});\napi.warn = api.warning;\nexport default api;","map":{"version":3,"names":["_extends","Notification","Icon","defaultDuration","defaultTop","messageInstance","key","prefixCls","transitionName","getContainer","document","body","maxCount","getMessageInstance","callback","newInstance","style","top","instance","notice","args","duration","undefined","iconType","info","success","error","warning","loading","type","target","closePromise","Promise","resolve","onClose","content","h","iconNode","attrs","theme","switchIconNode","icon","result","removeNotice","then","filled","rejected","promise","isArgsProps","Object","prototype","toString","call","api","open","config","options","destroy","forEach","warn"],"sources":["D:/Desktop/大三上/实训/项目2.0/xbr/xbr/前端/node_modules/ant-design-vue/es/message/index.js"],"sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\r\nimport Notification from '../vc-notification';\r\nimport Icon from '../icon';\r\n\r\nvar defaultDuration = 3;\r\nvar defaultTop = void 0;\r\nvar messageInstance = void 0;\r\nvar key = 1;\r\nvar prefixCls = 'ant-message';\r\nvar transitionName = 'move-up';\r\nvar getContainer = function getContainer() {\r\n  return document.body;\r\n};\r\nvar maxCount = void 0;\r\n\r\nfunction getMessageInstance(callback) {\r\n  if (messageInstance) {\r\n    callback(messageInstance);\r\n    return;\r\n  }\r\n  Notification.newInstance({\r\n    prefixCls: prefixCls,\r\n    transitionName: transitionName,\r\n    style: { top: defaultTop }, // 覆盖原来的样式\r\n    getContainer: getContainer,\r\n    maxCount: maxCount\r\n  }, function (instance) {\r\n    if (messageInstance) {\r\n      callback(messageInstance);\r\n      return;\r\n    }\r\n    messageInstance = instance;\r\n    callback(instance);\r\n  });\r\n}\r\n\r\n// type NoticeType = 'info' | 'success' | 'error' | 'warning' | 'loading';\r\n\r\nfunction notice(args) {\r\n  var duration = args.duration !== undefined ? args.duration : defaultDuration;\r\n  var iconType = {\r\n    info: 'info-circle',\r\n    success: 'check-circle',\r\n    error: 'close-circle',\r\n    warning: 'exclamation-circle',\r\n    loading: 'loading'\r\n  }[args.type];\r\n\r\n  var target = args.key || key++;\r\n  var closePromise = new Promise(function (resolve) {\r\n    var callback = function callback() {\r\n      if (typeof args.onClose === 'function') {\r\n        args.onClose();\r\n      }\r\n      return resolve(true);\r\n    };\r\n    getMessageInstance(function (instance) {\r\n      instance.notice({\r\n        key: target,\r\n        duration: duration,\r\n        style: {},\r\n        content: function content(h) {\r\n          var iconNode = h(Icon, {\r\n            attrs: { type: iconType, theme: iconType === 'loading' ? 'outlined' : 'filled' }\r\n          });\r\n          var switchIconNode = iconType ? iconNode : '';\r\n          return h(\r\n            'div',\r\n            {\r\n              'class': prefixCls + '-custom-content' + (args.type ? ' ' + prefixCls + '-' + args.type : '')\r\n            },\r\n            [args.icon ? typeof args.icon === 'function' ? args.icon(h) : args.icon : switchIconNode, h('span', [typeof args.content === 'function' ? args.content(h) : args.content])]\r\n          );\r\n        },\r\n        onClose: callback\r\n      });\r\n    });\r\n  });\r\n  var result = function result() {\r\n    if (messageInstance) {\r\n      messageInstance.removeNotice(target);\r\n    }\r\n  };\r\n  result.then = function (filled, rejected) {\r\n    return closePromise.then(filled, rejected);\r\n  };\r\n  result.promise = closePromise;\r\n  return result;\r\n}\r\n\r\n// type ConfigContent = React.ReactNode | string;\r\n// type ConfigDuration = number | (() => void);\r\n// export type ConfigOnClose = () => void;\r\n\r\nfunction isArgsProps(content) {\r\n  return Object.prototype.toString.call(content) === '[object Object]' && !!content.content;\r\n}\r\n\r\n// export interface ConfigOptions {\r\n//   top?: number;\r\n//   duration?: number;\r\n//   prefixCls?: string;\r\n//   getContainer?: () => HTMLElement;\r\n//   transitionName?: string;\r\n// }\r\n\r\nvar api = {\r\n  open: notice,\r\n  config: function config(options) {\r\n    if (options.top !== undefined) {\r\n      defaultTop = options.top;\r\n      messageInstance = null; // delete messageInstance for new defaultTop\r\n    }\r\n    if (options.duration !== undefined) {\r\n      defaultDuration = options.duration;\r\n    }\r\n    if (options.prefixCls !== undefined) {\r\n      prefixCls = options.prefixCls;\r\n    }\r\n    if (options.getContainer !== undefined) {\r\n      getContainer = options.getContainer;\r\n    }\r\n    if (options.transitionName !== undefined) {\r\n      transitionName = options.transitionName;\r\n      messageInstance = null; // delete messageInstance for new transitionName\r\n    }\r\n    if (options.maxCount !== undefined) {\r\n      maxCount = options.maxCount;\r\n      messageInstance = null;\r\n    }\r\n  },\r\n  destroy: function destroy() {\r\n    if (messageInstance) {\r\n      messageInstance.destroy();\r\n      messageInstance = null;\r\n    }\r\n  }\r\n};\r\n\r\n['success', 'info', 'warning', 'error', 'loading'].forEach(function (type) {\r\n  api[type] = function (content, duration, onClose) {\r\n    if (isArgsProps(content)) {\r\n      return api.open(_extends({}, content, { type: type }));\r\n    }\r\n    if (typeof duration === 'function') {\r\n      onClose = duration;\r\n      duration = undefined;\r\n    }\r\n    return api.open({ content: content, duration: duration, type: type, onClose: onClose });\r\n  };\r\n});\r\n\r\napi.warn = api.warning;\r\n\r\nexport default api;"],"mappings":"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"},"metadata":{},"sourceType":"module"}