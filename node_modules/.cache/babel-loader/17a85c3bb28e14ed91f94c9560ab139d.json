{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport PropTypes from '../_util/vue-types';\nimport addEventListener from '../vc-util/Dom/addEventListener';\nimport getScroll from '../_util/getScroll';\nimport BaseMixin from '../_util/BaseMixin';\nimport getTransitionProps from '../_util/getTransitionProps';\nimport { ConfigConsumerProps } from '../config-provider/configConsumerProps';\nimport Base from '../base';\nimport { getListeners } from '../_util/props-util';\nimport scrollTo from '../_util/scrollTo';\n\nfunction getDefaultTarget() {\n  return window;\n}\n\nvar BackTopProps = {\n  visibilityHeight: PropTypes.number,\n  // onClick?: React.MouseEventHandler<any>;\n  target: PropTypes.func,\n  prefixCls: PropTypes.string // visible: PropTypes.bool, // Only for test. Don't use it.\n\n};\nvar BackTop = {\n  name: 'ABackTop',\n  mixins: [BaseMixin],\n  props: _extends({}, BackTopProps, {\n    visibilityHeight: PropTypes.number.def(400)\n  }),\n  inject: {\n    configProvider: {\n      'default': function _default() {\n        return ConfigConsumerProps;\n      }\n    }\n  },\n  data: function data() {\n    this.scrollEvent = null;\n    return {\n      visible: false\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.$nextTick(function () {\n      var getTarget = _this.target || getDefaultTarget;\n      _this.scrollEvent = addEventListener(getTarget(), 'scroll', _this.handleScroll);\n\n      _this.handleScroll();\n    });\n  },\n  activated: function activated() {\n    var _this2 = this;\n\n    this.$nextTick(function () {\n      _this2.handleScroll();\n    });\n  },\n  beforeDestroy: function beforeDestroy() {\n    if (this.scrollEvent) {\n      this.scrollEvent.remove();\n    }\n  },\n  methods: {\n    getCurrentScrollTop: function getCurrentScrollTop() {\n      var getTarget = this.target || getDefaultTarget;\n      var targetNode = getTarget();\n\n      if (targetNode === window) {\n        return window.pageYOffset || document.body.scrollTop || document.documentElement.scrollTop;\n      }\n\n      return targetNode.scrollTop;\n    },\n    scrollToTop: function scrollToTop(e) {\n      var _target = this.target,\n          target = _target === undefined ? getDefaultTarget : _target;\n      scrollTo(0, {\n        getContainer: target\n      });\n      this.$emit('click', e);\n    },\n    handleScroll: function handleScroll() {\n      var visibilityHeight = this.visibilityHeight,\n          _target2 = this.target,\n          target = _target2 === undefined ? getDefaultTarget : _target2;\n      var scrollTop = getScroll(target(), true);\n      this.setState({\n        visible: scrollTop > visibilityHeight\n      });\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    var customizePrefixCls = this.prefixCls,\n        $slots = this.$slots;\n    var getPrefixCls = this.configProvider.getPrefixCls;\n    var prefixCls = getPrefixCls('back-top', customizePrefixCls);\n    var defaultElement = h('div', {\n      'class': prefixCls + '-content'\n    }, [h('div', {\n      'class': prefixCls + '-icon'\n    })]);\n    var divProps = {\n      on: _extends({}, getListeners(this), {\n        click: this.scrollToTop\n      }),\n      'class': prefixCls\n    };\n    var backTopBtn = this.visible ? h('div', divProps, [$slots['default'] || defaultElement]) : null;\n    var transitionProps = getTransitionProps('fade');\n    return h('transition', transitionProps, [backTopBtn]);\n  }\n};\n/* istanbul ignore next */\n\nBackTop.install = function (Vue) {\n  Vue.use(Base);\n  Vue.component(BackTop.name, BackTop);\n};\n\nexport default BackTop;","map":{"version":3,"names":["_extends","PropTypes","addEventListener","getScroll","BaseMixin","getTransitionProps","ConfigConsumerProps","Base","getListeners","scrollTo","getDefaultTarget","window","BackTopProps","visibilityHeight","number","target","func","prefixCls","string","BackTop","name","mixins","props","def","inject","configProvider","_default","data","scrollEvent","visible","mounted","_this","$nextTick","getTarget","handleScroll","activated","_this2","beforeDestroy","remove","methods","getCurrentScrollTop","targetNode","pageYOffset","document","body","scrollTop","documentElement","scrollToTop","e","_target","undefined","getContainer","$emit","_target2","setState","render","h","arguments","customizePrefixCls","$slots","getPrefixCls","defaultElement","divProps","on","click","backTopBtn","transitionProps","install","Vue","use","component"],"sources":["D:/Desktop/大三上/实训/项目2.0/xbr/前端/node_modules/ant-design-vue/es/back-top/index.js"],"sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\r\nimport PropTypes from '../_util/vue-types';\r\nimport addEventListener from '../vc-util/Dom/addEventListener';\r\nimport getScroll from '../_util/getScroll';\r\nimport BaseMixin from '../_util/BaseMixin';\r\nimport getTransitionProps from '../_util/getTransitionProps';\r\nimport { ConfigConsumerProps } from '../config-provider/configConsumerProps';\r\nimport Base from '../base';\r\nimport { getListeners } from '../_util/props-util';\r\nimport scrollTo from '../_util/scrollTo';\r\n\r\nfunction getDefaultTarget() {\r\n  return window;\r\n}\r\n\r\nvar BackTopProps = {\r\n  visibilityHeight: PropTypes.number,\r\n  // onClick?: React.MouseEventHandler<any>;\r\n  target: PropTypes.func,\r\n  prefixCls: PropTypes.string\r\n  // visible: PropTypes.bool, // Only for test. Don't use it.\r\n};\r\n\r\nvar BackTop = {\r\n  name: 'ABackTop',\r\n  mixins: [BaseMixin],\r\n  props: _extends({}, BackTopProps, {\r\n    visibilityHeight: PropTypes.number.def(400)\r\n  }),\r\n  inject: {\r\n    configProvider: { 'default': function _default() {\r\n        return ConfigConsumerProps;\r\n      } }\r\n  },\r\n  data: function data() {\r\n    this.scrollEvent = null;\r\n    return {\r\n      visible: false\r\n    };\r\n  },\r\n  mounted: function mounted() {\r\n    var _this = this;\r\n\r\n    this.$nextTick(function () {\r\n      var getTarget = _this.target || getDefaultTarget;\r\n      _this.scrollEvent = addEventListener(getTarget(), 'scroll', _this.handleScroll);\r\n      _this.handleScroll();\r\n    });\r\n  },\r\n  activated: function activated() {\r\n    var _this2 = this;\r\n\r\n    this.$nextTick(function () {\r\n      _this2.handleScroll();\r\n    });\r\n  },\r\n  beforeDestroy: function beforeDestroy() {\r\n    if (this.scrollEvent) {\r\n      this.scrollEvent.remove();\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    getCurrentScrollTop: function getCurrentScrollTop() {\r\n      var getTarget = this.target || getDefaultTarget;\r\n      var targetNode = getTarget();\r\n      if (targetNode === window) {\r\n        return window.pageYOffset || document.body.scrollTop || document.documentElement.scrollTop;\r\n      }\r\n      return targetNode.scrollTop;\r\n    },\r\n    scrollToTop: function scrollToTop(e) {\r\n      var _target = this.target,\r\n          target = _target === undefined ? getDefaultTarget : _target;\r\n\r\n      scrollTo(0, {\r\n        getContainer: target\r\n      });\r\n      this.$emit('click', e);\r\n    },\r\n    handleScroll: function handleScroll() {\r\n      var visibilityHeight = this.visibilityHeight,\r\n          _target2 = this.target,\r\n          target = _target2 === undefined ? getDefaultTarget : _target2;\r\n\r\n      var scrollTop = getScroll(target(), true);\r\n      this.setState({\r\n        visible: scrollTop > visibilityHeight\r\n      });\r\n    }\r\n  },\r\n\r\n  render: function render() {\r\n    var h = arguments[0];\r\n    var customizePrefixCls = this.prefixCls,\r\n        $slots = this.$slots;\r\n\r\n\r\n    var getPrefixCls = this.configProvider.getPrefixCls;\r\n    var prefixCls = getPrefixCls('back-top', customizePrefixCls);\r\n\r\n    var defaultElement = h(\r\n      'div',\r\n      { 'class': prefixCls + '-content' },\r\n      [h('div', { 'class': prefixCls + '-icon' })]\r\n    );\r\n    var divProps = {\r\n      on: _extends({}, getListeners(this), {\r\n        click: this.scrollToTop\r\n      }),\r\n      'class': prefixCls\r\n    };\r\n\r\n    var backTopBtn = this.visible ? h(\r\n      'div',\r\n      divProps,\r\n      [$slots['default'] || defaultElement]\r\n    ) : null;\r\n    var transitionProps = getTransitionProps('fade');\r\n    return h(\r\n      'transition',\r\n      transitionProps,\r\n      [backTopBtn]\r\n    );\r\n  }\r\n};\r\n\r\n/* istanbul ignore next */\r\nBackTop.install = function (Vue) {\r\n  Vue.use(Base);\r\n  Vue.component(BackTop.name, BackTop);\r\n};\r\n\r\nexport default BackTop;"],"mappings":"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"},"metadata":{},"sourceType":"module"}